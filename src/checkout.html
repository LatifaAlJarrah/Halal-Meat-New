<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - Halal Meat</title>
    <link href="./output.css" rel="stylesheet">
    <style>
        .delivery-option-btn.active input[type="radio"],
        input[type="radio"]:checked {
            accent-color: #D72638;
        }

        .delivery-option-btn.inactive input[type="radio"],
        input[type="radio"]:not(:checked) {
            accent-color: #6B7280;
        }

        /* Address Options Styling */
        .address-option.active,
        .billing-address-option.active,
        .pickup-address-option.active {
            border-color: #D72638 !important;
            background-color: #FEF2F2;
        }

        .address-option:hover,
        .billing-address-option:hover,
        .pickup-address-option:hover {
            border-color: #D72638;
        }

        .form-error {
            border-color: #EF4444 !important;
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
        }

        .error-message {
            color: #EF4444;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        .success-message {
            color: #10B981;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        /* Hide scrollbar but keep scroll functionality */
        .scrollbar-hide {
            -ms-overflow-style: none;
            /* Internet Explorer 10+ */
            scrollbar-width: none;
            /* Firefox */
        }

        .scrollbar-hide::-webkit-scrollbar {
            display: none;
            /* Safari and Chrome */
        }

        /* Modal specific styles */
        #datetime-picker.hidden {
            display: none !important;
            visibility: hidden !important;
            opacity: 0 !important;
            pointer-events: none !important;
        }

        #datetime-picker:not(.hidden) {
            display: flex !important;
            visibility: visible !important;
            opacity: 1 !important;
            pointer-events: auto !important;
        }
    </style>
</head>

<body class=" font-livvic min-h-screen">
    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 z-50 bg-[#ffffff58] backdrop-blur-sm shadow-[0_4px_4px_#0000000D]">
        <div class="px-10 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <a href="./index.html" class="cursor-pointer">
                    <h1 class="font-extrabold text-lg lg:text-[32px] text-[#D72638] font-sniglet">
                        Halal <span class="text-black">Meat</span>
                    </h1>
                </a>

                <!-- Navigation -->
                <nav id="mobile-menu" class="hidden xl:flex items-center space-x-4 2xl:space-x-8 font-medium text-base">
                    <a href="./index.html" class="text-black hover:text-[#D72638] transition-colors">Home</a>
                    <a href="./build-your-box.html" class="text-black hover:text-[#D72638] transition-colors ">build
                        your
                        box</a>
                    <a href="./about.html" class="text-black hover:text-[#D72638] transition-colors">About</a>
                    <a href="./shop.html" class="text-black hover:text-[#D72638] transition-colors">Shop</a>
                    <a href="./product.html" class="text-black hover:text-[#D72638] transition-colors">Product</a>
                    <a href="./checkout.html"
                        class="text-[#D72638] hover:text-[#D72638] transition-colors font-bold">Checkout</a>
                    <a href="./why-choose-us.html" class="text-black hover:text-[#D72638] transition-colors">why choose
                        us</a>
                    <a href="./contact.html" class="text-black hover:text-[#D72638] transition-colors">Contact us</a>
                </nav>

                <div class="hidden xl:flex items-center justify-between gap-4 2xl:gap-8">
                    <a href="./build-your-box.html">
                        <svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M18.9995 10.8413L19.0005 15.5003L11.0005 20.0003L3.00045 15.5003L2.99947 10.9183L4.99948 12.0873L5.00047 14.3303L10.0005 17.1423L9.99945 13.6723L11.0074 13.0541L11.9995 13.6643L12.0005 17.1423L17.0005 14.3293L16.9995 12.0093L18.9995 10.8413ZM8.75136 0.704102L10.9728 2.01613L11.0005 2.00029L11.0128 2.00713L13.1166 0.76532L21.5262 5.66699L19.4148 6.96313L21.5265 8.20968L13.0647 13.1512L11.0018 11.8841L8.87417 13.1918L0.412391 8.25027L2.5708 6.97513L0.341797 5.60582L8.75136 0.704102ZM18.0755 7.0003L10.9955 3.1063L4.05791 7.0003L10.9955 10.8943L18.0755 7.0003Z"
                                fill="black" />
                        </svg>
                    </a>
                    <button>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M15.7549 14.2549H14.9649L14.6849 13.9849C15.6649 12.8449 16.2549 11.3649 16.2549 9.75488C16.2549 6.16488 13.3449 3.25488 9.75488 3.25488C6.16488 3.25488 3.25488 6.16488 3.25488 9.75488C3.25488 13.3449 6.16488 16.2549 9.75488 16.2549C11.3649 16.2549 12.8449 15.6649 13.9849 14.6849L14.2549 14.9649V15.7549L19.2549 20.7449L20.7449 19.2549L15.7549 14.2549ZM9.75488 14.2549C7.26488 14.2549 5.25488 12.2449 5.25488 9.75488C5.25488 7.26488 7.26488 5.25488 9.75488 5.25488C12.2449 5.25488 14.2549 7.26488 14.2549 9.75488C14.2549 12.2449 12.2449 14.2549 9.75488 14.2549Z"
                                fill="#100404" />
                        </svg>
                    </button>
                    <a href="./cart.html">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M16.5461 13C17.2961 13 17.9561 12.59 18.2961 11.97L21.8761 5.48C22.2461 4.82 21.7661 4 21.0061 4H6.20609L5.26609 2H1.99609V4H3.99609L7.59609 11.59L6.24609 14.03C5.51609 15.37 6.47609 17 7.99609 17H19.9961V15H7.99609L9.09609 13H16.5461ZM7.15609 6H19.3061L16.5461 11H9.52609L7.15609 6ZM7.99609 18C6.89609 18 6.00609 18.9 6.00609 20C6.00609 21.1 6.89609 22 7.99609 22C9.09609 22 9.99609 21.1 9.99609 20C9.99609 18.9 9.09609 18 7.99609 18ZM17.9961 18C16.8961 18 16.0061 18.9 16.0061 20C16.0061 21.1 16.8961 22 17.9961 22C19.0961 22 19.9961 21.1 19.9961 20C19.9961 18.9 19.0961 18 17.9961 18Z"
                                fill="#100404" />
                        </svg>
                    </a>
                    <button id="notification-btn" class="relative">
                        <svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M3.39404 7.55577C3.84677 5.20157 5.90673 3.5 8.30407 3.5H11.6959C14.0933 3.5 16.1532 5.20156 16.606 7.55576L18.482 17.3112C18.5383 17.6041 18.461 17.9069 18.271 18.1368C18.081 18.3668 17.7983 18.5 17.5 18.5H2.50001C2.20171 18.5 1.91899 18.3668 1.72902 18.1368C1.53905 17.9069 1.46167 17.6041 1.518 17.3112L3.39404 7.55577ZM8.30407 5.5C6.86567 5.5 5.62969 6.52094 5.35805 7.93346L3.71064 16.5H16.2894L14.642 7.93346C14.3703 6.52094 13.1343 5.5 11.6959 5.5H8.30407Z"
                                fill="#100404" />
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M20 18.5H0V16.5H20V18.5Z" fill="#100404" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M6 17.5C6 16.9477 6.44772 16.5 7 16.5H13C13.5523 16.5 14 16.9477 14 17.5V18.5C14 20.1569 12.6569 21.5 11 21.5H9C7.34315 21.5 6 20.1569 6 18.5V17.5ZM8 18.5C8 19.0523 8.44772 19.5 9 19.5H11C11.5523 19.5 12 19.0523 12 18.5H8Z"
                                fill="#100404" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M7 4.5C7 5.05228 7.44772 5.5 8 5.5H12C12.5523 5.5 13 5.05228 13 4.5V3.5C13 1.84315 11.6569 0.5 10 0.5C8.34315 0.5 7 1.84315 7 3.5V4.5ZM9 3.5C9 2.94772 9.44772 2.5 10 2.5C10.5523 2.5 11 2.94772 11 3.5H9Z"
                                fill="#100404" />
                        </svg>
                        <!-- Notification badge -->
                        <span id="notification-badge"
                            class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold">3</span>
                    </button>
                    <a href="./login.html" class="border border-[#100404] text-black rounded-lg p-2">
                        Login
                    </a>
                </div>

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="xl:hidden text-white">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16">
                        </path>
                    </svg>
                </button>

                <nav id="mobile-menu-dropdown"
                    class="xl:hidden hidden gap-4 items-start space-x-8 font-medium text-base bg-black/70 backdrop-blur-md shadow-2xl border-t border-white/10 scrollbar-y-thin absolute top-full left-0 right-0 z-50 p-4 flex flex-col gap-4">
                    <a href="./index.html"
                        class="text-white hover:text-red-400 transition-all duration-300 font-bold py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">Home</a>
                    <a href="./build-your-box.html"
                        class="text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">build
                        your box</a>
                    <a href="./about.html"
                        class="text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">About</a>
                    <a href="./shop.html"
                        class="text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">Shop</a>
                    <a href="./product.html"
                        class="text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">Product</a>
                    <a href="./checkout.html"
                        class="text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">Checkout</a>
                    <a href="./why-choose-us.html"
                        class="text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">why
                        choose us</a>
                    <a href="./contact.html"
                        class="text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">Contact
                        us</a>
                    <a href="./cart.html"
                        class="flex gap-3 items-center justify-center text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M16.5461 13C17.2961 13 17.9561 12.59 18.2961 11.97L21.8761 5.48C22.2461 4.82 21.7661 4 21.0061 4H6.20609L5.26609 2H1.99609V4H3.99609L7.59609 11.59L6.24609 14.03C5.51609 15.37 6.47609 17 7.99609 17H19.9961V15H7.99609L9.09609 13H16.5461ZM7.15609 6H19.3061L16.5461 11H9.52609L7.15609 6ZM7.99609 18C6.89609 18 6.00609 18.9 6.00609 20C6.00609 21.1 6.89609 22 7.99609 22C9.09609 22 9.99609 21.1 9.99609 20C9.99609 18.9 9.09609 18 7.99609 18ZM17.9961 18C16.8961 18 16.0061 18.9 16.0061 20C16.0061 21.1 16.8961 22 17.9961 22C19.0961 22 19.9961 21.1 19.9961 20C19.9961 18.9 19.0961 18 17.9961 18Z"
                                fill="#fff" />
                        </svg>
                        Cart
                    </a>
                    <button id="mobile-notification-btn"
                        class="flex gap-3 items-center justify-center text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center relative">
                        <svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M3.39404 7.55577C3.84677 5.20157 5.90673 3.5 8.30407 3.5H11.6959C14.0933 3.5 16.1532 5.20156 16.606 7.55576L18.482 17.3112C18.5383 17.6041 18.461 17.9069 18.271 18.1368C18.081 18.3668 17.7983 18.5 17.5 18.5H2.50001C2.20171 18.5 1.91899 18.3668 1.72902 18.1368C1.53905 17.9069 1.46167 17.6041 1.518 17.3112L3.39404 7.55577ZM8.30407 5.5C6.86567 5.5 5.62969 6.52094 5.35805 7.93346L3.71064 16.5H16.2894L14.642 7.93346C14.3703 6.52094 13.1343 5.5 11.6959 5.5H8.30407Z"
                                fill="#fff" />
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M20 18.5H0V16.5H20V18.5Z" fill="#fff" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M6 17.5C6 16.9477 6.44772 16.5 7 16.5H13C13.5523 16.5 14 16.9477 14 17.5V18.5C14 20.1569 12.6569 21.5 11 21.5H9C7.34315 21.5 6 20.1569 6 18.5V17.5ZM8 18.5C8 19.0523 8.44772 19.5 9 19.5H11C11.5523 19.5 12 19.0523 12 18.5H8Z"
                                fill="#fff" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M7 4.5C7 5.05228 7.44772 5.5 8 5.5H12C12.5523 5.5 13 5.05228 13 4.5V3.5C13 1.84315 11.6569 0.5 10 0.5C8.34315 0.5 7 1.84315 7 3.5V4.5ZM9 3.5C9 2.94772 9.44772 2.5 10 2.5C10.5523 2.5 11 2.94772 11 3.5H9Z"
                                fill="#fff" />
                        </svg>
                        Notifications
                        <!-- Mobile notification badge -->
                        <span id="mobile-notification-badge"
                            class="absolute top-2 right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold">3</span>
                    </button>
                    <a href="./login.html"
                        class="text-white hover:text-red-400 transition-all duration-300 py-3 px-6 rounded-lg hover:bg-white/10 w-full text-center">
                        Login
                    </a>
                </nav>
            </div>
        </div>
    </header>
    <!-- Notifications Modal -->
    <div id="notifications-modal" class="fixed inset-0 bg-black/50 z-50 hidden">
        <div class="flex items-start justify-end min-h-screen">
            <div class="bg-white shadow-xl w-[870px] h-full max-w-full overflow-hidden animate-slide-in-right relative">
                <!-- Modal Header -->
                <div class="flex items-center justify-between p-4 border-b border-gray-200">
                    <div class="flex items-center gap-3">
                        <svg width="34" height="35" viewBox="0 0 34 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M7.64155 12.6207C8.28292 9.28555 11.2012 6.875 14.5974 6.875H19.4026C22.7988 6.875 25.7171 9.28554 26.3585 12.6207L29.0162 26.4408C29.096 26.8558 28.9864 27.2847 28.7172 27.6105C28.4481 27.9363 28.0476 28.125 27.625 28.125H6.37501C5.95242 28.125 5.5519 27.9363 5.28277 27.6105C5.01365 27.2847 4.90403 26.8558 4.98383 26.4408L7.64155 12.6207ZM14.5974 9.70833C12.5597 9.70833 10.8087 11.1547 10.4239 13.1557L8.09007 25.2917H25.9099L23.5761 13.1557C23.1913 11.1547 21.4403 9.70833 19.4026 9.70833H14.5974Z"
                                fill="#100404" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M31.1667 28.1248H2.83333V25.2915H31.1667V28.1248Z" fill="#100404" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M11.3333 26.7082C11.3333 25.9258 11.9676 25.2915 12.75 25.2915H21.25C22.0324 25.2915 22.6667 25.9258 22.6667 26.7082V28.1248C22.6667 30.472 20.7639 32.3748 18.4167 32.3748H15.5833C13.2361 32.3748 11.3333 30.472 11.3333 28.1248V26.7082ZM14.1667 28.1248C14.1667 28.9072 14.8009 29.5415 15.5833 29.5415H18.4167C19.1991 29.5415 19.8333 28.9072 19.8333 28.1248H14.1667Z"
                                fill="#100404" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M12.75 8.29134C12.75 9.07374 13.3843 9.70801 14.1667 9.70801H19.8333C20.6157 9.70801 21.25 9.07374 21.25 8.29134V6.87467C21.25 4.52746 19.3472 2.62467 17 2.62467C14.6528 2.62467 12.75 4.52746 12.75 6.87467V8.29134ZM15.5833 6.87467C15.5833 6.09227 16.2176 5.45801 17 5.45801C17.7824 5.45801 18.4167 6.09227 18.4167 6.87467H15.5833Z"
                                fill="#100404" />
                        </svg>
    
                        <div>
                            <h3 class="text-xl font-medium text-black font-poppins">Notifications</h3>
                            <p class="text-sm font-medium text-[#8F8F8F] font-poppins">Stay updated with your latest
                                activities</p>
                        </div>
                    </div>
                    <button id="close-notifications-modal" class="text-black hover:text-red-600 transition-colors">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 6L18 18M6 18L18 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                </div>
    
                <!-- Modal Body -->
                <div class="flex-1 overflow-y-auto py-6 px-16" style="height: calc(100vh - 140px);">
                    <div id="notifications-list" class="space-y-2">
                        <!-- Sample Notifications -->
                        <div
                            class="notification-item flex items-start py-2 pl-2 pr-6 border border-[#CECECE] hover:border-[#FEC0C6] hover:bg-[#FFF6F6] rounded-lg transition-colors">
                            <div class="flex-shrink-0  mr-3">
                                <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 15.5C10.2833 15.5 10.521 15.404 10.713 15.212C10.905 15.02 11.0007 14.7827 11 14.5C10.9993 14.2173 10.9033 13.98 10.712 13.788C10.5207 13.596 10.2833 13.5 10 13.5C9.71667 13.5 9.47933 13.596 9.288 13.788C9.09667 13.98 9.00067 14.2173 9 14.5C8.99933 14.7827 9.09533 15.0203 9.288 15.213C9.48067 15.4057 9.718 15.5013 10 15.5ZM10 11.5C10.2833 11.5 10.521 11.404 10.713 11.212C10.905 11.02 11.0007 10.7827 11 10.5V6.5C11 6.21667 10.904 5.97933 10.712 5.788C10.52 5.59667 10.2827 5.50067 10 5.5C9.71733 5.49933 9.48 5.59533 9.288 5.788C9.096 5.98067 9 6.218 9 6.5V10.5C9 10.7833 9.096 11.021 9.288 11.213C9.48 11.405 9.71733 11.5007 10 11.5ZM10 20.5C8.61667 20.5 7.31667 20.2373 6.1 19.712C4.88334 19.1867 3.825 18.4743 2.925 17.575C2.025 16.6757 1.31267 15.6173 0.788001 14.4C0.263335 13.1827 0.000667933 11.8827 1.26582e-06 10.5C-0.000665401 9.11733 0.262001 7.81733 0.788001 6.6C1.314 5.38267 2.02633 4.32433 2.925 3.425C3.82367 2.52567 4.882 1.81333 6.1 1.288C7.318 0.762667 8.618 0.5 10 0.5C11.382 0.5 12.682 0.762667 13.9 1.288C15.118 1.81333 16.1763 2.52567 17.075 3.425C17.9737 4.32433 18.6863 5.38267 19.213 6.6C19.7397 7.81733 20.002 9.11733 20 10.5C19.998 11.8827 19.7353 13.1827 19.212 14.4C18.6887 15.6173 17.9763 16.6757 17.075 17.575C16.1737 18.4743 15.1153 19.187 13.9 19.713C12.6847 20.239 11.3847 20.5013 10 20.5ZM10 18.5C12.2333 18.5 14.125 17.725 15.675 16.175C17.225 14.625 18 12.7333 18 10.5C18 8.26667 17.225 6.375 15.675 4.825C14.125 3.275 12.2333 2.5 10 2.5C7.76667 2.5 5.875 3.275 4.325 4.825C2.775 6.375 2 8.26667 2 10.5C2 12.7333 2.775 14.625 4.325 16.175C5.875 17.725 7.76667 18.5 10 18.5Z"
                                        fill="#D72638" />
                                </svg>
                            </div>
    
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <p class="text-sm font-semibold text-black font-inter">New Order Received</p>
    
                                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
    
                                </div>
                                <p class="text-xs text-[#7E7E7E] mt-1 font-inter font-normal">You have received a new
                                    message from John Doe regarding the project proposal. Please review and respond at
                                    your earliest
                                    convenience.
                                </p>
                                <div class="flex items-center justify-between">
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">Just now</p>
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">sep22,01:13 PM</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="notification-item flex items-start py-2 pl-2 pr-6 border border-[#CECECE] hover:border-[#FEC0C6] hover:bg-[#FFF6F6] rounded-lg transition-colors">
                            <div class="flex-shrink-0  mr-3">
                                <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 15.5C10.2833 15.5 10.521 15.404 10.713 15.212C10.905 15.02 11.0007 14.7827 11 14.5C10.9993 14.2173 10.9033 13.98 10.712 13.788C10.5207 13.596 10.2833 13.5 10 13.5C9.71667 13.5 9.47933 13.596 9.288 13.788C9.09667 13.98 9.00067 14.2173 9 14.5C8.99933 14.7827 9.09533 15.0203 9.288 15.213C9.48067 15.4057 9.718 15.5013 10 15.5ZM10 11.5C10.2833 11.5 10.521 11.404 10.713 11.212C10.905 11.02 11.0007 10.7827 11 10.5V6.5C11 6.21667 10.904 5.97933 10.712 5.788C10.52 5.59667 10.2827 5.50067 10 5.5C9.71733 5.49933 9.48 5.59533 9.288 5.788C9.096 5.98067 9 6.218 9 6.5V10.5C9 10.7833 9.096 11.021 9.288 11.213C9.48 11.405 9.71733 11.5007 10 11.5ZM10 20.5C8.61667 20.5 7.31667 20.2373 6.1 19.712C4.88334 19.1867 3.825 18.4743 2.925 17.575C2.025 16.6757 1.31267 15.6173 0.788001 14.4C0.263335 13.1827 0.000667933 11.8827 1.26582e-06 10.5C-0.000665401 9.11733 0.262001 7.81733 0.788001 6.6C1.314 5.38267 2.02633 4.32433 2.925 3.425C3.82367 2.52567 4.882 1.81333 6.1 1.288C7.318 0.762667 8.618 0.5 10 0.5C11.382 0.5 12.682 0.762667 13.9 1.288C15.118 1.81333 16.1763 2.52567 17.075 3.425C17.9737 4.32433 18.6863 5.38267 19.213 6.6C19.7397 7.81733 20.002 9.11733 20 10.5C19.998 11.8827 19.7353 13.1827 19.212 14.4C18.6887 15.6173 17.9763 16.6757 17.075 17.575C16.1737 18.4743 15.1153 19.187 13.9 19.713C12.6847 20.239 11.3847 20.5013 10 20.5ZM10 18.5C12.2333 18.5 14.125 17.725 15.675 16.175C17.225 14.625 18 12.7333 18 10.5C18 8.26667 17.225 6.375 15.675 4.825C14.125 3.275 12.2333 2.5 10 2.5C7.76667 2.5 5.875 3.275 4.325 4.825C2.775 6.375 2 8.26667 2 10.5C2 12.7333 2.775 14.625 4.325 16.175C5.875 17.725 7.76667 18.5 10 18.5Z"
                                        fill="#D72638" />
                                </svg>
                            </div>
    
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <p class="text-sm font-semibold text-black font-inter">New Order Received</p>
    
                                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
    
                                </div>
                                <p class="text-xs text-[#7E7E7E] mt-1 font-inter font-normal">You have received a new
                                    message from John Doe regarding the project proposal. Please review and respond at
                                    your earliest
                                    convenience.
                                </p>
                                <div class="flex items-center justify-between">
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">Just now</p>
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">sep22,01:13 PM</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="notification-item flex items-start py-2 pl-2 pr-6 border border-[#CECECE] hover:border-[#FEC0C6] hover:bg-[#FFF6F6] rounded-lg transition-colors">
                            <div class="flex-shrink-0  mr-3">
                                <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 15.5C10.2833 15.5 10.521 15.404 10.713 15.212C10.905 15.02 11.0007 14.7827 11 14.5C10.9993 14.2173 10.9033 13.98 10.712 13.788C10.5207 13.596 10.2833 13.5 10 13.5C9.71667 13.5 9.47933 13.596 9.288 13.788C9.09667 13.98 9.00067 14.2173 9 14.5C8.99933 14.7827 9.09533 15.0203 9.288 15.213C9.48067 15.4057 9.718 15.5013 10 15.5ZM10 11.5C10.2833 11.5 10.521 11.404 10.713 11.212C10.905 11.02 11.0007 10.7827 11 10.5V6.5C11 6.21667 10.904 5.97933 10.712 5.788C10.52 5.59667 10.2827 5.50067 10 5.5C9.71733 5.49933 9.48 5.59533 9.288 5.788C9.096 5.98067 9 6.218 9 6.5V10.5C9 10.7833 9.096 11.021 9.288 11.213C9.48 11.405 9.71733 11.5007 10 11.5ZM10 20.5C8.61667 20.5 7.31667 20.2373 6.1 19.712C4.88334 19.1867 3.825 18.4743 2.925 17.575C2.025 16.6757 1.31267 15.6173 0.788001 14.4C0.263335 13.1827 0.000667933 11.8827 1.26582e-06 10.5C-0.000665401 9.11733 0.262001 7.81733 0.788001 6.6C1.314 5.38267 2.02633 4.32433 2.925 3.425C3.82367 2.52567 4.882 1.81333 6.1 1.288C7.318 0.762667 8.618 0.5 10 0.5C11.382 0.5 12.682 0.762667 13.9 1.288C15.118 1.81333 16.1763 2.52567 17.075 3.425C17.9737 4.32433 18.6863 5.38267 19.213 6.6C19.7397 7.81733 20.002 9.11733 20 10.5C19.998 11.8827 19.7353 13.1827 19.212 14.4C18.6887 15.6173 17.9763 16.6757 17.075 17.575C16.1737 18.4743 15.1153 19.187 13.9 19.713C12.6847 20.239 11.3847 20.5013 10 20.5ZM10 18.5C12.2333 18.5 14.125 17.725 15.675 16.175C17.225 14.625 18 12.7333 18 10.5C18 8.26667 17.225 6.375 15.675 4.825C14.125 3.275 12.2333 2.5 10 2.5C7.76667 2.5 5.875 3.275 4.325 4.825C2.775 6.375 2 8.26667 2 10.5C2 12.7333 2.775 14.625 4.325 16.175C5.875 17.725 7.76667 18.5 10 18.5Z"
                                        fill="#D72638" />
                                </svg>
                            </div>
    
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <p class="text-sm font-semibold text-black font-inter">New Order Received</p>
    
                                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
    
                                </div>
                                <p class="text-xs text-[#7E7E7E] mt-1 font-inter font-normal">You have received a new
                                    message from John Doe regarding the project proposal. Please review and respond at
                                    your earliest
                                    convenience.
                                </p>
                                <div class="flex items-center justify-between">
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">Just now</p>
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">sep22,01:13 PM</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="notification-item flex items-start py-2 pl-2 pr-6 border border-[#CECECE] hover:border-[#FEC0C6] hover:bg-[#FFF6F6] rounded-lg transition-colors">
                            <div class="flex-shrink-0  mr-3">
                                <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 15.5C10.2833 15.5 10.521 15.404 10.713 15.212C10.905 15.02 11.0007 14.7827 11 14.5C10.9993 14.2173 10.9033 13.98 10.712 13.788C10.5207 13.596 10.2833 13.5 10 13.5C9.71667 13.5 9.47933 13.596 9.288 13.788C9.09667 13.98 9.00067 14.2173 9 14.5C8.99933 14.7827 9.09533 15.0203 9.288 15.213C9.48067 15.4057 9.718 15.5013 10 15.5ZM10 11.5C10.2833 11.5 10.521 11.404 10.713 11.212C10.905 11.02 11.0007 10.7827 11 10.5V6.5C11 6.21667 10.904 5.97933 10.712 5.788C10.52 5.59667 10.2827 5.50067 10 5.5C9.71733 5.49933 9.48 5.59533 9.288 5.788C9.096 5.98067 9 6.218 9 6.5V10.5C9 10.7833 9.096 11.021 9.288 11.213C9.48 11.405 9.71733 11.5007 10 11.5ZM10 20.5C8.61667 20.5 7.31667 20.2373 6.1 19.712C4.88334 19.1867 3.825 18.4743 2.925 17.575C2.025 16.6757 1.31267 15.6173 0.788001 14.4C0.263335 13.1827 0.000667933 11.8827 1.26582e-06 10.5C-0.000665401 9.11733 0.262001 7.81733 0.788001 6.6C1.314 5.38267 2.02633 4.32433 2.925 3.425C3.82367 2.52567 4.882 1.81333 6.1 1.288C7.318 0.762667 8.618 0.5 10 0.5C11.382 0.5 12.682 0.762667 13.9 1.288C15.118 1.81333 16.1763 2.52567 17.075 3.425C17.9737 4.32433 18.6863 5.38267 19.213 6.6C19.7397 7.81733 20.002 9.11733 20 10.5C19.998 11.8827 19.7353 13.1827 19.212 14.4C18.6887 15.6173 17.9763 16.6757 17.075 17.575C16.1737 18.4743 15.1153 19.187 13.9 19.713C12.6847 20.239 11.3847 20.5013 10 20.5ZM10 18.5C12.2333 18.5 14.125 17.725 15.675 16.175C17.225 14.625 18 12.7333 18 10.5C18 8.26667 17.225 6.375 15.675 4.825C14.125 3.275 12.2333 2.5 10 2.5C7.76667 2.5 5.875 3.275 4.325 4.825C2.775 6.375 2 8.26667 2 10.5C2 12.7333 2.775 14.625 4.325 16.175C5.875 17.725 7.76667 18.5 10 18.5Z"
                                        fill="#D72638" />
                                </svg>
                            </div>
    
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <p class="text-sm font-semibold text-black font-inter">New Order Received</p>
    
                                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
    
                                </div>
                                <p class="text-xs text-[#7E7E7E] mt-1 font-inter font-normal">You have received a new
                                    message from John Doe regarding the project proposal. Please review and respond at
                                    your earliest
                                    convenience.
                                </p>
                                <div class="flex items-center justify-between">
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">Just now</p>
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">sep22,01:13 PM</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="notification-item flex items-start py-2 pl-2 pr-6 border border-[#CECECE] hover:border-[#FEC0C6] hover:bg-[#FFF6F6] rounded-lg transition-colors">
                            <div class="flex-shrink-0  mr-3">
                                <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 15.5C10.2833 15.5 10.521 15.404 10.713 15.212C10.905 15.02 11.0007 14.7827 11 14.5C10.9993 14.2173 10.9033 13.98 10.712 13.788C10.5207 13.596 10.2833 13.5 10 13.5C9.71667 13.5 9.47933 13.596 9.288 13.788C9.09667 13.98 9.00067 14.2173 9 14.5C8.99933 14.7827 9.09533 15.0203 9.288 15.213C9.48067 15.4057 9.718 15.5013 10 15.5ZM10 11.5C10.2833 11.5 10.521 11.404 10.713 11.212C10.905 11.02 11.0007 10.7827 11 10.5V6.5C11 6.21667 10.904 5.97933 10.712 5.788C10.52 5.59667 10.2827 5.50067 10 5.5C9.71733 5.49933 9.48 5.59533 9.288 5.788C9.096 5.98067 9 6.218 9 6.5V10.5C9 10.7833 9.096 11.021 9.288 11.213C9.48 11.405 9.71733 11.5007 10 11.5ZM10 20.5C8.61667 20.5 7.31667 20.2373 6.1 19.712C4.88334 19.1867 3.825 18.4743 2.925 17.575C2.025 16.6757 1.31267 15.6173 0.788001 14.4C0.263335 13.1827 0.000667933 11.8827 1.26582e-06 10.5C-0.000665401 9.11733 0.262001 7.81733 0.788001 6.6C1.314 5.38267 2.02633 4.32433 2.925 3.425C3.82367 2.52567 4.882 1.81333 6.1 1.288C7.318 0.762667 8.618 0.5 10 0.5C11.382 0.5 12.682 0.762667 13.9 1.288C15.118 1.81333 16.1763 2.52567 17.075 3.425C17.9737 4.32433 18.6863 5.38267 19.213 6.6C19.7397 7.81733 20.002 9.11733 20 10.5C19.998 11.8827 19.7353 13.1827 19.212 14.4C18.6887 15.6173 17.9763 16.6757 17.075 17.575C16.1737 18.4743 15.1153 19.187 13.9 19.713C12.6847 20.239 11.3847 20.5013 10 20.5ZM10 18.5C12.2333 18.5 14.125 17.725 15.675 16.175C17.225 14.625 18 12.7333 18 10.5C18 8.26667 17.225 6.375 15.675 4.825C14.125 3.275 12.2333 2.5 10 2.5C7.76667 2.5 5.875 3.275 4.325 4.825C2.775 6.375 2 8.26667 2 10.5C2 12.7333 2.775 14.625 4.325 16.175C5.875 17.725 7.76667 18.5 10 18.5Z"
                                        fill="#D72638" />
                                </svg>
                            </div>
    
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <p class="text-sm font-semibold text-black font-inter">New Order Received</p>
    
                                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
    
                                </div>
                                <p class="text-xs text-[#7E7E7E] mt-1 font-inter font-normal">You have received a new
                                    message from John Doe regarding the project proposal. Please review and respond at
                                    your earliest
                                    convenience.
                                </p>
                                <div class="flex items-center justify-between">
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">Just now</p>
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">sep22,01:13 PM</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="notification-item flex items-start py-2 pl-2 pr-6 border border-[#CECECE] hover:border-[#FEC0C6] hover:bg-[#FFF6F6] rounded-lg transition-colors">
                            <div class="flex-shrink-0  mr-3">
                                <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 15.5C10.2833 15.5 10.521 15.404 10.713 15.212C10.905 15.02 11.0007 14.7827 11 14.5C10.9993 14.2173 10.9033 13.98 10.712 13.788C10.5207 13.596 10.2833 13.5 10 13.5C9.71667 13.5 9.47933 13.596 9.288 13.788C9.09667 13.98 9.00067 14.2173 9 14.5C8.99933 14.7827 9.09533 15.0203 9.288 15.213C9.48067 15.4057 9.718 15.5013 10 15.5ZM10 11.5C10.2833 11.5 10.521 11.404 10.713 11.212C10.905 11.02 11.0007 10.7827 11 10.5V6.5C11 6.21667 10.904 5.97933 10.712 5.788C10.52 5.59667 10.2827 5.50067 10 5.5C9.71733 5.49933 9.48 5.59533 9.288 5.788C9.096 5.98067 9 6.218 9 6.5V10.5C9 10.7833 9.096 11.021 9.288 11.213C9.48 11.405 9.71733 11.5007 10 11.5ZM10 20.5C8.61667 20.5 7.31667 20.2373 6.1 19.712C4.88334 19.1867 3.825 18.4743 2.925 17.575C2.025 16.6757 1.31267 15.6173 0.788001 14.4C0.263335 13.1827 0.000667933 11.8827 1.26582e-06 10.5C-0.000665401 9.11733 0.262001 7.81733 0.788001 6.6C1.314 5.38267 2.02633 4.32433 2.925 3.425C3.82367 2.52567 4.882 1.81333 6.1 1.288C7.318 0.762667 8.618 0.5 10 0.5C11.382 0.5 12.682 0.762667 13.9 1.288C15.118 1.81333 16.1763 2.52567 17.075 3.425C17.9737 4.32433 18.6863 5.38267 19.213 6.6C19.7397 7.81733 20.002 9.11733 20 10.5C19.998 11.8827 19.7353 13.1827 19.212 14.4C18.6887 15.6173 17.9763 16.6757 17.075 17.575C16.1737 18.4743 15.1153 19.187 13.9 19.713C12.6847 20.239 11.3847 20.5013 10 20.5ZM10 18.5C12.2333 18.5 14.125 17.725 15.675 16.175C17.225 14.625 18 12.7333 18 10.5C18 8.26667 17.225 6.375 15.675 4.825C14.125 3.275 12.2333 2.5 10 2.5C7.76667 2.5 5.875 3.275 4.325 4.825C2.775 6.375 2 8.26667 2 10.5C2 12.7333 2.775 14.625 4.325 16.175C5.875 17.725 7.76667 18.5 10 18.5Z"
                                        fill="#D72638" />
                                </svg>
                            </div>
    
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <p class="text-sm font-semibold text-black font-inter">New Order Received</p>
    
                                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
    
                                </div>
                                <p class="text-xs text-[#7E7E7E] mt-1 font-inter font-normal">You have received a new
                                    message from John Doe regarding the project proposal. Please review and respond at
                                    your earliest
                                    convenience.
                                </p>
                                <div class="flex items-center justify-between">
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">Just now</p>
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">sep22,01:13 PM</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="notification-item flex items-start py-2 pl-2 pr-6 border border-[#CECECE] hover:border-[#FEC0C6] hover:bg-[#FFF6F6] rounded-lg transition-colors">
                            <div class="flex-shrink-0  mr-3">
                                <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 15.5C10.2833 15.5 10.521 15.404 10.713 15.212C10.905 15.02 11.0007 14.7827 11 14.5C10.9993 14.2173 10.9033 13.98 10.712 13.788C10.5207 13.596 10.2833 13.5 10 13.5C9.71667 13.5 9.47933 13.596 9.288 13.788C9.09667 13.98 9.00067 14.2173 9 14.5C8.99933 14.7827 9.09533 15.0203 9.288 15.213C9.48067 15.4057 9.718 15.5013 10 15.5ZM10 11.5C10.2833 11.5 10.521 11.404 10.713 11.212C10.905 11.02 11.0007 10.7827 11 10.5V6.5C11 6.21667 10.904 5.97933 10.712 5.788C10.52 5.59667 10.2827 5.50067 10 5.5C9.71733 5.49933 9.48 5.59533 9.288 5.788C9.096 5.98067 9 6.218 9 6.5V10.5C9 10.7833 9.096 11.021 9.288 11.213C9.48 11.405 9.71733 11.5007 10 11.5ZM10 20.5C8.61667 20.5 7.31667 20.2373 6.1 19.712C4.88334 19.1867 3.825 18.4743 2.925 17.575C2.025 16.6757 1.31267 15.6173 0.788001 14.4C0.263335 13.1827 0.000667933 11.8827 1.26582e-06 10.5C-0.000665401 9.11733 0.262001 7.81733 0.788001 6.6C1.314 5.38267 2.02633 4.32433 2.925 3.425C3.82367 2.52567 4.882 1.81333 6.1 1.288C7.318 0.762667 8.618 0.5 10 0.5C11.382 0.5 12.682 0.762667 13.9 1.288C15.118 1.81333 16.1763 2.52567 17.075 3.425C17.9737 4.32433 18.6863 5.38267 19.213 6.6C19.7397 7.81733 20.002 9.11733 20 10.5C19.998 11.8827 19.7353 13.1827 19.212 14.4C18.6887 15.6173 17.9763 16.6757 17.075 17.575C16.1737 18.4743 15.1153 19.187 13.9 19.713C12.6847 20.239 11.3847 20.5013 10 20.5ZM10 18.5C12.2333 18.5 14.125 17.725 15.675 16.175C17.225 14.625 18 12.7333 18 10.5C18 8.26667 17.225 6.375 15.675 4.825C14.125 3.275 12.2333 2.5 10 2.5C7.76667 2.5 5.875 3.275 4.325 4.825C2.775 6.375 2 8.26667 2 10.5C2 12.7333 2.775 14.625 4.325 16.175C5.875 17.725 7.76667 18.5 10 18.5Z"
                                        fill="#D72638" />
                                </svg>
                            </div>
    
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <p class="text-sm font-semibold text-black font-inter">New Order Received</p>
    
                                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
    
                                </div>
                                <p class="text-xs text-[#7E7E7E] mt-1 font-inter font-normal">You have received a new
                                    message from John Doe regarding the project proposal. Please review and respond at
                                    your earliest
                                    convenience.
                                </p>
                                <div class="flex items-center justify-between">
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">Just now</p>
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">sep22,01:13 PM</p>
                                </div>
                            </div>
                        </div>
                        <div
                            class="notification-item flex items-start py-2 pl-2 pr-6 border border-[#CECECE] hover:border-[#FEC0C6] hover:bg-[#FFF6F6] rounded-lg transition-colors">
                            <div class="flex-shrink-0  mr-3">
                                <svg width="20" height="21" viewBox="0 0 20 21" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 15.5C10.2833 15.5 10.521 15.404 10.713 15.212C10.905 15.02 11.0007 14.7827 11 14.5C10.9993 14.2173 10.9033 13.98 10.712 13.788C10.5207 13.596 10.2833 13.5 10 13.5C9.71667 13.5 9.47933 13.596 9.288 13.788C9.09667 13.98 9.00067 14.2173 9 14.5C8.99933 14.7827 9.09533 15.0203 9.288 15.213C9.48067 15.4057 9.718 15.5013 10 15.5ZM10 11.5C10.2833 11.5 10.521 11.404 10.713 11.212C10.905 11.02 11.0007 10.7827 11 10.5V6.5C11 6.21667 10.904 5.97933 10.712 5.788C10.52 5.59667 10.2827 5.50067 10 5.5C9.71733 5.49933 9.48 5.59533 9.288 5.788C9.096 5.98067 9 6.218 9 6.5V10.5C9 10.7833 9.096 11.021 9.288 11.213C9.48 11.405 9.71733 11.5007 10 11.5ZM10 20.5C8.61667 20.5 7.31667 20.2373 6.1 19.712C4.88334 19.1867 3.825 18.4743 2.925 17.575C2.025 16.6757 1.31267 15.6173 0.788001 14.4C0.263335 13.1827 0.000667933 11.8827 1.26582e-06 10.5C-0.000665401 9.11733 0.262001 7.81733 0.788001 6.6C1.314 5.38267 2.02633 4.32433 2.925 3.425C3.82367 2.52567 4.882 1.81333 6.1 1.288C7.318 0.762667 8.618 0.5 10 0.5C11.382 0.5 12.682 0.762667 13.9 1.288C15.118 1.81333 16.1763 2.52567 17.075 3.425C17.9737 4.32433 18.6863 5.38267 19.213 6.6C19.7397 7.81733 20.002 9.11733 20 10.5C19.998 11.8827 19.7353 13.1827 19.212 14.4C18.6887 15.6173 17.9763 16.6757 17.075 17.575C16.1737 18.4743 15.1153 19.187 13.9 19.713C12.6847 20.239 11.3847 20.5013 10 20.5ZM10 18.5C12.2333 18.5 14.125 17.725 15.675 16.175C17.225 14.625 18 12.7333 18 10.5C18 8.26667 17.225 6.375 15.675 4.825C14.125 3.275 12.2333 2.5 10 2.5C7.76667 2.5 5.875 3.275 4.325 4.825C2.775 6.375 2 8.26667 2 10.5C2 12.7333 2.775 14.625 4.325 16.175C5.875 17.725 7.76667 18.5 10 18.5Z"
                                        fill="#D72638" />
                                </svg>
                            </div>
    
                            <div class="flex-1">
                                <div class="flex items-center justify-between">
                                    <p class="text-sm font-semibold text-black font-inter">New Order Received</p>
    
                                    <div class="w-2 h-2 bg-red-500 rounded-full"></div>
    
                                </div>
                                <p class="text-xs text-[#7E7E7E] mt-1 font-inter font-normal">You have received a new
                                    message from John Doe regarding the project proposal. Please review and respond at
                                    your earliest
                                    convenience.
                                </p>
                                <div class="flex items-center justify-between">
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">Just now</p>
                                    <p class="text-xs text-[#7E7E7E] mt-4 font-inter font-normal">sep22,01:13 PM</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <!-- Main Content -->
    <main class="pt-40 pb-16 min-h-screen font-poppins">
        <div class="container mx-auto px-6 md:px-12 lg:px-20">
            <!-- Progress Indicator -->
            <div class="container mx-auto px-6 md:px-12 lg:px-20">
                <div class="flex flex-col items-center justify-center space-y-4">
                    <div class="flex items-center justify-between text-center w-full font-euclid-circular">
                        <span class=" text-[#B30310] font-semibold text-base">Cart</span>
                        <span class=" text-[#B30310] font-semibold text-base">Checkout</span>
                        <span class=" text-[#6E7583] font-semibold text-base">Payment</span>
                    </div>
                    <div class="flex items-center justify-between space-x-4 sm:space-x-8 w-full">
                        <div
                            class="w-5 h-5 border-3 p-2 border-[#B30310] bg-[#B30310] rounded-full flex items-center justify-center text-sm font-semibold">
                        </div>
                        <div class="w-full h-[1px] bg-[#B30310]"></div>
                        <div
                            class="w-5 h-5 border-3 p-2 border-[#B30310] text-white rounded-full flex items-center justify-center text-sm font-semibold">
                        </div>
                        <div class="w-full h-[1px] bg-[#A1A4AC]"></div>
                        <div
                            class="w-5 h-5 border-3 p-2 border-[#6E7583] text-white rounded-full flex items-center justify-center text-sm font-semibold">
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mt-10">
                <!-- Left Column - Checkout Form -->
                <div class="lg:col-span-2 space-y-8">
                    <!-- Delivery/Pickup Options -->
                    <div>
                        <div class="flex flex-col sm:flex-row space-x-4 gap-2">
                            <label
                                class="delivery-option-btn active flex-1 p-4 border-2 border-[#D72638] bg-[#F4F5FE] font-medium text-[#D72638] rounded-lg flex items-center space-x-3 transition-all duration-300 cursor-pointer w-full"
                                for="delivery-btn">
                                <input type="radio" id="delivery-btn" name="deliveryOption" value="delivery" checked
                                    class="w-4 h-4 text-[#D72638] focus:ring-[#D72638] border-gray-300 mx-3">
                                <svg class="text-[#D72638] svg-delivery-option mr-2" width="20" height="20"
                                    viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10.8328 12.292H9.99949C9.65782 12.292 9.37449 12.0087 9.37449 11.667C9.37449 11.3253 9.65782 11.042 9.99949 11.042H10.8328C11.4078 11.042 11.8745 10.5753 11.8745 10.0003V2.29199H4.99949C4.01616 2.29199 3.11613 2.82531 2.6328 3.68364C2.46613 3.98364 2.08283 4.09201 1.78283 3.92534C1.48283 3.75868 1.37447 3.37533 1.54114 3.07533C2.24114 1.82533 3.56616 1.04199 4.99949 1.04199H12.4995C12.8412 1.04199 13.1245 1.32533 13.1245 1.66699V10.0003C13.1245 11.267 12.0995 12.292 10.8328 12.292Z"
                                        fill="currentColor" />
                                    <path
                                        d="M15.8337 17.292H15.0003C14.6587 17.292 14.3753 17.0087 14.3753 16.667C14.3753 16.092 13.9087 15.6253 13.3337 15.6253C12.7587 15.6253 12.292 16.092 12.292 16.667C12.292 17.0087 12.0087 17.292 11.667 17.292H8.33366C7.99199 17.292 7.70866 17.0087 7.70866 16.667C7.70866 16.092 7.24199 15.6253 6.66699 15.6253C6.09199 15.6253 5.62533 16.092 5.62533 16.667C5.62533 17.0087 5.34199 17.292 5.00033 17.292H4.16699C2.44199 17.292 1.04199 15.892 1.04199 14.167C1.04199 13.8253 1.32533 13.542 1.66699 13.542C2.00866 13.542 2.29199 13.8253 2.29199 14.167C2.29199 15.2003 3.13366 16.042 4.16699 16.042H4.45864C4.73364 15.0837 5.61699 14.3753 6.66699 14.3753C7.71699 14.3753 8.60035 15.0837 8.87535 16.042H11.1336C11.4086 15.0837 12.292 14.3753 13.342 14.3753C14.392 14.3753 15.2753 15.0837 15.5503 16.042H15.8337C16.867 16.042 17.7087 15.2003 17.7087 14.167V12.292H15.8337C15.0337 12.292 14.3753 11.6337 14.3753 10.8337V8.33366C14.3753 7.53366 15.0253 6.87533 15.8337 6.87533L14.942 5.317C14.7587 4.992 14.4087 4.79199 14.0337 4.79199H13.1253V10.0003C13.1253 11.267 12.1003 12.292 10.8337 12.292H10.0003C9.65866 12.292 9.37533 12.0087 9.37533 11.667C9.37533 11.3253 9.65866 11.042 10.0003 11.042H10.8337C11.4087 11.042 11.8753 10.5753 11.8753 10.0003V4.16699C11.8753 3.82533 12.1587 3.54199 12.5003 3.54199H14.0337C14.8587 3.54199 15.617 3.98367 16.0253 4.70034L17.4503 7.192C17.5587 7.38366 17.5587 7.62533 17.4503 7.817C17.342 8.00866 17.1336 8.12533 16.9086 8.12533H15.8337C15.717 8.12533 15.6253 8.21699 15.6253 8.33366V10.8337C15.6253 10.9503 15.717 11.042 15.8337 11.042H18.3337C18.6753 11.042 18.9587 11.3253 18.9587 11.667V14.167C18.9587 15.892 17.5587 17.292 15.8337 17.292Z"
                                        fill="currentColor" />
                                    <path
                                        d="M6.66667 18.9583C5.4 18.9583 4.375 17.9333 4.375 16.6667C4.375 15.4 5.4 14.375 6.66667 14.375C7.93333 14.375 8.95833 15.4 8.95833 16.6667C8.95833 17.9333 7.93333 18.9583 6.66667 18.9583ZM6.66667 15.625C6.09167 15.625 5.625 16.0917 5.625 16.6667C5.625 17.2417 6.09167 17.7083 6.66667 17.7083C7.24167 17.7083 7.70833 17.2417 7.70833 16.6667C7.70833 16.0917 7.24167 15.625 6.66667 15.625Z"
                                        fill="currentColor" />
                                    <path
                                        d="M13.3337 18.9583C12.067 18.9583 11.042 17.9333 11.042 16.6667C11.042 15.4 12.067 14.375 13.3337 14.375C14.6003 14.375 15.6253 15.4 15.6253 16.6667C15.6253 17.9333 14.6003 18.9583 13.3337 18.9583ZM13.3337 15.625C12.7587 15.625 12.292 16.0917 12.292 16.6667C12.292 17.2417 12.7587 17.7083 13.3337 17.7083C13.9087 17.7083 14.3753 17.2417 14.3753 16.6667C14.3753 16.0917 13.9087 15.625 13.3337 15.625Z"
                                        fill="currentColor" />
                                    <path
                                        d="M18.3333 12.2917H15.8333C15.0333 12.2917 14.375 11.6333 14.375 10.8333V8.33333C14.375 7.53333 15.0333 6.875 15.8333 6.875H16.9083C17.1333 6.875 17.3417 6.99167 17.45 7.19167L18.875 9.69167C18.925 9.78334 18.9583 9.89167 18.9583 10V11.6667C18.9583 12.0083 18.675 12.2917 18.3333 12.2917ZM15.8333 8.125C15.7167 8.125 15.625 8.21667 15.625 8.33333V10.8333C15.625 10.95 15.7167 11.0417 15.8333 11.0417H17.7083V10.1667L16.5416 8.125H15.8333Z"
                                        fill="currentColor" />
                                    <path
                                        d="M6.66699 7.29199H1.66699C1.32533 7.29199 1.04199 7.00866 1.04199 6.66699C1.04199 6.32533 1.32533 6.04199 1.66699 6.04199H6.66699C7.00866 6.04199 7.29199 6.32533 7.29199 6.66699C7.29199 7.00866 7.00866 7.29199 6.66699 7.29199Z"
                                        fill="currentColor" />
                                    <path
                                        d="M5.00033 9.79199H1.66699C1.32533 9.79199 1.04199 9.50866 1.04199 9.16699C1.04199 8.82533 1.32533 8.54199 1.66699 8.54199H5.00033C5.34199 8.54199 5.62533 8.82533 5.62533 9.16699C5.62533 9.50866 5.34199 9.79199 5.00033 9.79199Z"
                                        fill="currentColor" />
                                    <path
                                        d="M3.33366 12.292H1.66699C1.32533 12.292 1.04199 12.0087 1.04199 11.667C1.04199 11.3253 1.32533 11.042 1.66699 11.042H3.33366C3.67533 11.042 3.95866 11.3253 3.95866 11.667C3.95866 12.0087 3.67533 12.292 3.33366 12.292Z"
                                        fill="currentColor" />
                                </svg>

                                Delivery
                            </label>
                            <label
                                class="delivery-option-btn inactive flex-1 p-4 border-2 border-[#DBDDE3] font-medium text-[#818EA1] bg-white rounded-lg flex items-center space-x-3 transition-all duration-300 cursor-pointer w-full"
                                for="pickup-btn">
                                <input type="radio" id="pickup-btn" name="deliveryOption" value="pickup"
                                    class="w-4 h-4 text-[#D72638] focus:ring-[#D72638] border-gray-300 mx-3">
                                <svg class="w-6 h-6 text-[#818EA1] svg-pickup-option mr-2" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"
                                        fill="currentColor"></path>
                                </svg>
                                Pick Up
                            </label>
                        </div>
                    </div>
                    <div class="container mx-auto pt-8">
                        <!-- Delivery Information Section -->
                        <div id="delivery-address-section" class="mb-6">
                            <h2 class="text-2xl font-medium mb-4 text-gray-900">Delivery / Shipping Address</h2>
                            <p class="text-base font-normal text-black mb-4">Choose a Saved shipping address</p>

                            <div class="space-y-4">
                                <!-- Existing Address Options -->
                                <div class="address-option flex items-center justify-between gap-2 border border-gray-300 rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-red-600 hover:shadow-md active"
                                    data-address="home">
                                    <label class="flex flex-col gap-2 cursor-pointer">
                                        <p class="font-semibold text-base text-black">Home</p>
                                        <p class="text-base text-gray-500 font-normal">123 Wellness Ave, Suite 4,
                                            Austin, TX 78701</p>
                                    </label>
                                    <div class="flex items-center gap-2">
                                        <input type="radio" name="deliveryAddress" value="saved" checked
                                            class="w-4 h-4 text-red-600 focus:ring-red-600 border-gray-300"
                                            id="home-address" />
                                    </div>
                                </div>

                                <div class="address-option flex items-center justify-between gap-2 border border-gray-300 rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-red-600 hover:shadow-md"
                                    data-address="work">
                                    <label class="flex flex-col gap-2 cursor-pointer" for="work-address">
                                        <p class="font-semibold text-base text-black">Work</p>
                                        <p class="text-base text-gray-500 font-normal">456 Oak Dr, Austin, TX 78702</p>
                                    </label>
                                    <div class="flex items-center gap-2">
                                        <input type="radio" name="deliveryAddress" value="saved"
                                            class="w-4 h-4 text-red-600 focus:ring-red-600 border-gray-300"
                                            id="work-address" />
                                    </div>
                                </div>

                                <!-- Add Address Button -->
                                <button id="add-address-btn"
                                    class="text-base font-normal text-gray-800 border border-gray-500 rounded-lg py-2 px-6 hover:bg-gray-50 transition-colors">
                                    Add new shipping address
                                </button>
                            </div>

                            <!-- New Address Form (Hidden by default) -->
                            <div id="new-address-form-container"
                                class="hidden mt-6 p-6 border border-gray-200 rounded-lg bg-gray-50">
                                <h3 class="text-xl font-semibold text-gray-800 mb-4">Add New Address</h3>
                                <div class="space-y-4">
                                    <!-- Address Line 1 -->
                                    <div>
                                        <label for="new-address-line1"
                                            class="block text-sm font-medium text-gray-700 mb-1">Address Line 1
                                            *</label>
                                        <input type="text" id="new-address-line1" name="addressLine1" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                            placeholder="Enter your address">
                                        <div class="error-message hidden" id="new-address-line1-error"></div>
                                    </div>

                                    <!-- Address Line 2 -->
                                    <div>
                                        <label for="new-address-line2"
                                            class="block text-sm font-medium text-gray-700 mb-1">Address Line
                                            2</label>
                                        <input type="text" id="new-address-line2" name="addressLine2"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                            placeholder="Apartment, suite, etc. (optional)">
                                    </div>

                                    <!-- City -->
                                    <div>
                                        <label for="new-city" class="block text-sm font-medium text-gray-700 mb-1">Town
                                            *</label>
                                        <input type="text" id="new-city" name="city" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                            placeholder="Enter city">
                                        <div class="error-message hidden" id="new-city-error"></div>
                                    </div>

                                    <!-- State and Zip Code Row -->
                                    <div class="grid grid-cols-2 gap-4">
                                        <!-- State -->
                                        <div>
                                            <label for="new-state"
                                                class="block text-sm font-medium text-gray-700 mb-1">State *</label>
                                            <select id="new-state" name="state" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent">
                                                <option value="">Select State</option>
                                                <option value="TX">Texas</option>
                                                <option value="CA">California</option>
                                                <option value="NY">New York</option>
                                                <option value="FL">Florida</option>
                                            </select>
                                            <div class="error-message hidden" id="new-state-error"></div>
                                        </div>

                                        <!-- Zip Code -->
                                        <div>
                                            <label for="new-zip-code"
                                                class="block text-sm font-medium text-gray-700 mb-1">Zip Code
                                                *</label>
                                            <input type="text" id="new-zip-code" name="zipCode" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                                placeholder="12345">
                                            <div class="error-message hidden" id="new-zip-code-error"></div>
                                        </div>
                                    </div>

                                    <!-- Buttons -->
                                    <div class="pt-4 flex gap-3">
                                        <button type="button" id="save-address-btn"
                                            class="flex-1 bg-[#D72638] text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors">
                                            Save Address
                                        </button>
                                        <button type="button" id="cancel-address-btn"
                                            class="flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors">
                                            Cancel
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Success Message Area -->
                    <div id="delivery-success-message"
                        class="hidden mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md">
                        Address saved successfully!
                    </div>
                    <!-- Pickup Information Section -->
                    <div id="pickup-fields" class="space-y-6 hidden">
                        <div class="space-y-4 my-4">
                            <h2 class="text-2xl font-medium mb-4 text-gray-800">Pickup Address</h2>
                            <p class="font-normal text-sm text-gray-600">Choose a pickup location from the list below or
                                add a new one.</p>
                        </div>

                        <form id="pickup-form" class="space-y-4">
                            <!-- Existing Pickup Address Options -->
                            <div class="pickup-address-option flex items-center justify-between gap-2 border border-gray-300 rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-red-600 hover:shadow-md active"
                                data-address="store1">
                                <label class="flex flex-col gap-2 cursor-pointer">
                                    <p class="font-semibold text-base text-black">Main Store</p>
                                    <p class="text-base text-gray-500 font-normal">789 Market St, Floor 2, Austin, TX
                                        78703</p>
                                </label>
                                <div class="flex items-center gap-2">
                                    <input type="radio" name="pickupAddress" value="store1" checked
                                        class="w-4 h-4 text-red-600 focus:ring-red-600 border-gray-300"
                                        id="main-store-pickup" />
                                </div>
                            </div>

                            <div class="pickup-address-option flex items-center justify-between gap-2 border border-gray-300 rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-red-600 hover:shadow-md"
                                data-address="store2">
                                <label class="flex flex-col gap-2 cursor-pointer">
                                    <p class="font-semibold text-base text-black">Branch Store</p>
                                    <p class="text-base text-gray-500 font-normal">456 Oak Dr, Austin, TX 78702</p>
                                </label>
                                <div class="flex items-center gap-2">
                                    <input type="radio" name="pickupAddress" value="store2"
                                        class="w-4 h-4 text-red-600 focus:ring-red-600 border-gray-300"
                                        id="branch-store-pickup" />
                                </div>
                            </div>

                            <!-- Add New Pickup Location Button -->
                            <button id="add-pickup-address-btn" type="button"
                                class="text-base font-normal text-gray-800 border border-gray-500 rounded-lg py-2 px-6 hover:bg-gray-50 transition-colors">
                                Add new pickup location
                            </button>

                            <!-- New Pickup Address Form (Hidden by default) -->
                            <div id="new-pickup-address-form-container"
                                class="hidden mt-6 p-6 border border-gray-200 rounded-lg bg-gray-50">
                                <h3 class="text-xl font-semibold text-gray-800 mb-4">Add New Pickup Location</h3>
                                <form id="new-pickup-address-form" class="space-y-4">
                                    <!-- Address Line 1 -->
                                    <div>
                                        <label for="new-pickup-address-line1"
                                            class="block text-sm font-medium text-gray-700 mb-1">Address
                                            Line 1 *</label>
                                        <input type="text" id="new-pickup-address-line1" name="addressLine1" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                            placeholder="Enter address">
                                        <div class="error-message hidden" id="new-pickup-address-line1-error"></div>
                                    </div>

                                    <!-- Address Line 2 -->
                                    <div>
                                        <label for="new-pickup-address-line2"
                                            class="block text-sm font-medium text-gray-700 mb-1">Address
                                            Line 2</label>
                                        <input type="text" id="new-pickup-address-line2" name="addressLine2"
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                            placeholder="Apartment, suite, etc. (optional)">
                                    </div>

                                    <!-- City -->
                                    <div>
                                        <label for="new-pickup-city"
                                            class="block text-sm font-medium text-gray-700 mb-1">Town *</label>
                                        <input type="text" id="new-pickup-city" name="city" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                            placeholder="Enter city">
                                        <div class="error-message hidden" id="new-pickup-city-error"></div>
                                    </div>

                                    <!-- State and Zip Code Row -->
                                    <div class="grid grid-cols-2 gap-4">
                                        <!-- State -->
                                        <div>
                                            <label for="new-pickup-state"
                                                class="block text-sm font-medium text-gray-700 mb-1">State
                                                *</label>
                                            <select id="new-pickup-state" name="state" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent">
                                                <option value="">Select State</option>
                                                <option value="TX">Texas</option>
                                                <option value="CA">California</option>
                                                <option value="NY">New York</option>
                                                <option value="FL">Florida</option>
                                            </select>
                                            <div class="error-message hidden" id="new-pickup-state-error"></div>
                                        </div>

                                        <!-- Zip Code -->
                                        <div>
                                            <label for="new-pickup-zip-code"
                                                class="block text-sm font-medium text-gray-700 mb-1">Zip Code
                                                *</label>
                                            <input type="text" id="new-pickup-zip-code" name="zipCode" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                                placeholder="12345">
                                            <div class="error-message hidden" id="new-pickup-zip-code-error"></div>
                                        </div>
                                    </div>

                                    <!-- Buttons -->
                                    <div class="pt-4 flex gap-3">
                                        <button type="button" id="save-pickup-address-btn"
                                            class="flex-1 bg-[#D72638] text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors">
                                            Save Address
                                        </button>
                                        <button type="button" id="cancel-pickup-address-btn"
                                            class="flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors">
                                            Cancel
                                        </button>
                                    </div>
                                </form>
                            </div>


                        </form>
                    </div>

                    <!-- Success Message Area -->
                    <div id="success-message"
                        class="hidden mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md">
                        Address saved successfully!
                    </div>


                    <div id="billing-address-section" class="space-y-4">
                        <h3 class="text-2xl font-medium text-[#1A1A1A]">Billing Address</h3>
                        <div class="flex gap-2" id="billing-address-checkbox">
                            <input type="checkbox" name="differentAddress" id="differentAddress" />
                            <label for="differentAddress" class="font-normal text-sm text-[#4D4D4D]">Use a different
                                billing address?</label>
                        </div>
                        <p class="font-normal text-sm text-black">If you prefer to reuse a shipping address (for
                            Delivery), choose it as billing address. Otherwise add a billing address
                            below.
                        </p>
                    </div>

                    <div id="billing-form" class="space-y-4 hidden">
                        <div class="billing-address-option flex items-center justify-between gap-2 border border-[#C8C8C8] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[#D72638] hover:shadow-md active"
                            data-address="home">
                            <label class="flex flex-col gap-2 cursor-pointer">
                                <p class="font-semibold text-base text-black">Home (Shipping)</p>
                                <p class="text-base text-[#9E9494] font-normal">123 Wellness Ave, Suite 4, Austin, TX
                                    78701</p>
                            </label>
                            <div class="flex items-center gap-2">
                                <input type="radio" name="billingAddress" value="saved" checked
                                    class="w-4 h-4 text-[#D72638] focus:ring-[#D72638] border-gray-300"
                                    id="billing-home-address" />
                            </div>
                        </div>
                        <div class="billing-address-option flex items-center justify-between gap-2 border border-[#C8C8C8] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[#D72638] hover:shadow-md"
                            data-address="work">
                            <label class="flex flex-col gap-2 cursor-pointer" for="billing-work-address">
                                <p class="font-semibold text-base text-black">Work (Shipping)</p>
                                <p class="text-base text-[#9E9494] font-normal">456 Oak Dr, Austin, TX 78702</p>
                            </label>
                            <div class="flex items-center gap-2">
                                <input type="radio" name="billingAddress" value="saved"
                                    class="w-4 h-4 text-[#D72638] focus:ring-[#D72638] border-gray-300"
                                    id="billing-work-address" />
                            </div>
                        </div>
                        <div class="billing-address-option flex items-center justify-between gap-2 border border-[#C8C8C8] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[#D72638] hover:shadow-md"
                            data-address="card">
                            <label class="flex flex-col gap-2 cursor-pointer" for="billing-card-address">
                                <p class="font-semibold text-base text-black">Card Billing</p>
                                <p class="text-base text-[#9E9494] font-normal">789 Market St, Floor 2, Austin, TX 78703
                                </p>
                            </label>
                            <div class="flex items-center gap-2">
                                <input type="radio" name="billingAddress" value="saved"
                                    class="w-4 h-4 text-[#D72638] focus:ring-[#D72638] border-gray-300"
                                    id="billing-card-address" />
                            </div>
                        </div>
                        <button id="add-billing-address-btn" type="button"
                            class="text-base font-normal text-[#1A1C1B] border border-[#7B7F7C] rounded-lg py-2 px-6 hover:bg-gray-50 transition-colors">
                            Add new billing address
                        </button>

                        <!-- New Billing Address Form (Hidden by default) -->
                        <div id="new-billing-address-form-container"
                            class="hidden mt-4 p-6 border border-[#E6E6E6] rounded-lg bg-gray-50">
                            <h3 class="text-xl font-semibold text-[#1A1C1B] mb-4">Add New Billing Address</h3>
                            <div class="space-y-4">
                                <!-- Address Line 1 -->
                                <div>
                                    <label for="new-billing-address-line1"
                                        class="block text-sm font-medium text-gray-700 mb-1">Address Line
                                        1 *</label>
                                    <input type="text" id="new-billing-address-line1" name="addressLine1" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D72638] focus:border-transparent"
                                        placeholder="Address Line 1">
                                    <div class="error-message hidden" id="new-billing-address-line1-error"></div>
                                </div>
                                <!-- Address Line 2 -->
                                <div>
                                    <label for="new-billing-address-line2"
                                        class="block text-sm font-medium text-gray-700 mb-1">Address Line
                                        2 *</label>
                                    <input type="text" id="new-billing-address-line2" name="addressLine2" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D72638] focus:border-transparent"
                                        placeholder="Address Line 2">
                                    <div class="error-message hidden" id="new-billing-address-line2-error"></div>
                                </div>

                                <!-- City -->
                                <div>
                                    <label for="new-billing-city"
                                        class="block text-sm font-medium text-gray-700 mb-1">Town *</label>
                                    <input type="text" id="new-billing-city" name="city" required
                                        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D72638] focus:border-transparent"
                                        placeholder="City">
                                    <div class="error-message hidden" id="new-billing-city-error"></div>
                                </div>

                                <!-- State and Zip Code Row -->
                                <div class="grid grid-cols-2 gap-4">
                                    <!-- Choose State -->
                                    <div>
                                        <label for="new-billing-state"
                                            class="block text-sm font-medium text-gray-700 mb-1">State *</label>
                                        <select id="new-billing-state" name="state" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D72638] focus:border-transparent">
                                            <option value="">Select</option>
                                            <option value="TX">Texas</option>
                                            <option value="CA">California</option>
                                            <option value="NY">New York</option>
                                            <option value="FL">Florida</option>
                                        </select>
                                        <div class="error-message hidden" id="new-billing-state-error"></div>
                                    </div>

                                    <!-- Zip Code -->
                                    <div>
                                        <label for="new-billing-zip-code"
                                            class="block text-sm font-medium text-gray-700 mb-1">Zip Code
                                            *</label>
                                        <input type="text" id="new-billing-zip-code" name="zipCode" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D72638] focus:border-transparent"
                                            placeholder="12345">
                                        <div class="error-message hidden" id="new-billing-zip-code-error"></div>
                                    </div>
                                </div>

                                <!-- Buttons -->
                                <div class="pt-4 flex gap-3">
                                    <button type="button" id="save-billing-address-btn"
                                        class="flex-1 bg-[#D72638] text-white py-2 px-4 rounded-md hover:bg-red-700 transition-colors">
                                        Save Address
                                    </button>
                                    <button type="button" id="cancel-billing-address-btn"
                                        class="flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors">
                                        Cancel
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Success Message Area -->
                    <div id="success-message"
                        class="hidden mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md">
                        Address saved successfully!
                    </div>
                    <div>
                        <h5 class="font-medium text-lg md:text-2xl text-[#1A1A1A]">Summary / Next</h5>
                        <p class="font-normal text-sm text-black">This demo stores addresses in-memory (for the
                            session). In a real app, you'd fetch and persist these to your backend and
                            associate them with the authenticated user.
                        </p>
                    </div>

                    <div id="delivery-options-section"
                        class="bg-[#FAFAFA] border border-[#E5E5E5] rounded-lg p-6 space-y-6">
                        <!-- Delivery Options -->
                        <div>
                            <div class="flex flex-col sm:flex-row items-start sm:items-center gap-2">
                                <h2 class="text-base md:text-xl font-normal mb-4 text-[#1A1A1A]">Delivery Options</h2>
                                <p class="text-sm text-[#424242] mb-4 font-normal">Business hours 09:00 - 17:00 (local
                                    time)
                                </p>
                            </div>

                            <div class="space-y-4">
                                <div class="flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-8">
                                    <div class="flex items-center gap-2">
                                        <input type="radio" id="immediate-btn"
                                            value="Immediate (if within business hours)" name="deliveryTime"
                                            class="delivery-time-btn active flex-1 p-3" checked />
                                        <label for="immediate-btn"
                                            class="text-base font-normal text-[#B30310]">Immediate
                                            (if within business hours)</label>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <input type="radio" id="scheduled-btn" value="Scheduled" name="deliveryTime"
                                            class="delivery-time-btn inactive flex-1 p-3" />
                                        <label for="scheduled-btn"
                                            class="text-base font-normal text-black">Scheduled</label>
                                    </div>
                                </div>
                            </div>

                            <!-- Delivery Date & Time -->
                            <div id="delivery-date-time" class="space-y-2 p-4">
                                <p class="text-base font-normal text-[#676565]" id="delivery-date-display-label">
                                    Delivery Date & Time
                                </p>
                                <input type="text" id="delivery-date-display-input" name="deliveryDateDisplay" readonly
                                    class="w-full px-3 py-2 border border-[#DBDDE3] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#D72638] focus:border-transparent bg-gray-50 cursor-pointer"
                                    placeholder="Click to select date and time">
                            </div>

                            <!-- Custom Date & Time Picker (Hidden by default) -->
                            <div id="datetime-picker"
                                class="hidden space-y-4 w-full mx-auto fixed inset-0 bg-black/60 flex items-center justify-center"
                                style="z-index: 9999;">
                                <div class="flex flex-col w-fit md:flex-row gap-4 md:gap-8 bg-white rounded-lg backdrop-blur-sm shadow-[0_4px_4px_#0000000D] scale-90 p-10 relative"
                                    id="modal-content">
                                    <!-- Close button -->
                                    <button type="button" id="close-datetime-picker"
                                        class="absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full transition-colors duration-200 z-50 cursor-pointer"
                                        style="pointer-events: auto;"
                                        onclick="closeDateTimePicker(); console.log('Direct onclick called');">
                                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor"
                                            viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M6 18L18 6M6 6l12 12"></path>
                                        </svg>
                                    </button>

                                    <!-- Calendar Section -->
                                    <div class="p-4">
                                        <div class="custom-calendar">
                                            <!-- Calendar Header -->
                                            <div class="flex items-center justify-between mb-4">
                                                <button type="button" id="prev-month"
                                                    class="p-2 hover:bg-gray-100 rounded z-40 cursor-pointer"
                                                    style="pointer-events: auto;">
                                                    <svg class="w-4 h-4" fill="none" stroke="currentColor"
                                                        viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            stroke-width="2" d="M15 19l-7-7 7-7"></path>
                                                    </svg>
                                                </button>
                                                <h3 id="current-month-year" class="text-lg font-semibold text-gray-800">
                                                    <!-- Month and year will be updated by JavaScript -->
                                                </h3>
                                                <button type="button" id="next-month"
                                                    class="p-2 hover:bg-gray-100 rounded z-40 cursor-pointer"
                                                    style="pointer-events: auto;">
                                                    <svg class="w-4 h-4" fill="none" stroke="currentColor"
                                                        viewBox="0 0 24 24">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            stroke-width="2" d="M9 5l7 7-7 7">
                                                        </path>
                                                    </svg>
                                                </button>
                                            </div>

                                            <!-- Calendar Grid -->
                                            <div class="grid grid-cols-7 gap-1 mb-2">
                                                <div class="text-center text-sm font-medium text-gray-500 py-2">Mo</div>
                                                <div class="text-center text-sm font-medium text-gray-500 py-2">Tu</div>
                                                <div class="text-center text-sm font-medium text-gray-500 py-2">We</div>
                                                <div class="text-center text-sm font-medium text-gray-500 py-2">Th</div>
                                                <div class="text-center text-sm font-medium text-[#D72638] py-2">Fr
                                                </div>
                                                <div class="text-center text-sm font-medium text-[#D72638] py-2">Sa
                                                </div>
                                                <div class="text-center text-sm font-medium text-[#D72638] py-2">Su
                                                </div>
                                            </div>

                                            <div id="calendar-dates" class="grid grid-cols-7 gap-1">
                                                <!-- Calendar dates will be generated by JavaScript -->
                                            </div>
                                        </div>
                                        <div class="error-message hidden" id="deliveryDate-error"></div>
                                    </div>

                                    <!-- Time Picker Section -->
                                    <div class="border-l border-[#C7C7C7] p-4">
                                        <div class="custom-time-picker h-full">
                                            <div class="flex items-center justify-center space-x-4 h-full">
                                                <!-- Hour Picker -->
                                                <div class="text-center">
                                                    <div class="relative">
                                                        <div id="selected-hour"
                                                            class="w-14 h-10 bg-red-100 border-2 border-red-300 rounded-lg flex items-center justify-center text-lg font-normal text-black mb-2">
                                                            12</div>
                                                        <div
                                                            class="h-48 max-h-48 overflow-y-auto scrollbar-hide border border-gray-200 rounded-lg">
                                                            <div class="space-y-1 py-2 px-2">
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="12">12</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="01">01</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="02">02</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="03">03</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="04">04</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="05">05</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="06">06</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="07">07</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="08">08</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="09">09</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="10">10</div>
                                                                <div class="time-option hour-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-hour="11">11</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- Minute Picker -->
                                                <div class="text-center">
                                                    <div class="relative">
                                                        <div id="selected-minute"
                                                            class="w-14 h-10 bg-red-100 border-2 border-red-300 rounded-lg flex items-center justify-center text-lg font-normal text-black mb-2">
                                                            55</div>
                                                        <div
                                                            class="h-48 max-h-48 overflow-y-auto scrollbar-hide border border-gray-200 rounded-lg">
                                                            <div class="space-y-1 p-2">
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="00">00</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="01">01</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="02">02</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="03">03</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="04">04</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="05">05</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="06">06</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="07">07</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="08">08</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="09">09</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="10">10</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="11">11</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="12">12</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="13">13</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="14">14</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="15">15</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="16">16</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="17">17</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="18">18</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="19">19</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="20">20</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="21">21</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="22">22</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="23">23</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="24">24</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="25">25</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="26">26</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="27">27</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="28">28</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="29">29</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="30">30</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="31">31</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="32">32</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="33">33</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="34">34</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="35">35</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="36">36</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="37">37</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="38">38</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="39">39</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="40">40</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="41">41</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="42">42</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="43">43</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="44">44</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="45">45</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="46">46</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="47">47</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="48">48</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="49">49</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="50">50</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="51">51</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="52">52</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="53">53</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="54">54</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="55">55</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="56">56</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="57">57</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="58">58</div>
                                                                <div class="time-option minute-option text-center py-1 px-2 hover:bg-gray-100 cursor-pointer"
                                                                    data-minute="59">59</div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <!-- AM/PM Picker -->
                                                <div class="text-center">
                                                    <!-- <div class="text-sm text-gray-600 mb-2">Period</div> -->
                                                    <div class="space-y-2">
                                                        <div class="space-y-1 font-inter font-normal text-xs">
                                                            <div class="time-option period-option text-center py-2 px-3 border border-[#D7D7D7] rounded-lg cursor-pointer"
                                                                data-period="AM">AM</div>
                                                            <div class="time-option period-option text-center py-2 px-3 bg-[#FFCFD4] border-2 border-[#F48E98] rounded-lg cursor-pointer"
                                                                data-period="PM">PM</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="error-message hidden" id="deliveryTime-error"></div>
                                    </div>
                                </div>

                                <!-- Hidden inputs for form submission -->
                                <input type="hidden" id="delivery-date" name="deliveryDate">
                                <input type="hidden" id="delivery-time" name="deliveryTime">
                            </div>
                        </div>

                        <!-- Note Box -->
                        <div class="bg-[#FFF0F1] border border-[#FFC0C0] rounded-lg p-4 mt-2">
                            <div class="flex flex-col text-black font-poppins text-sm md:text-base">
                                <p>Note :</p>
                                <div class="mt-2 px-4">
                                    <ul class="list-disc list-inside space-y-1">
                                        <li>If order is placed outside business hours, it will be auto-scheduled for
                                            the next day.</li>
                                        <li>Immediate delivery within hours usually takes 1-2 hours (mock).</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Order Summary & Payment -->
                <div class="space-y-6">
                    <!-- Order Summary -->
                    <div class="border border-[#E6E6E6] rounded-lg p-6">
                        <h2 class="text-xl font-medium mb-4 text-[#1A1A1A]">Order Summary</h2>
                        <div class="space-y-4">
                            <!-- Sample Products -->
                            <div class="flex items-center space-x-3">
                                <img src="./assets/images/meat.jpg" alt="Long Box" class="w-14 h-14 object-cover">
                                <div class="flex-1 font-normal text-sm text-[#1A1A1A]">
                                    <h3>Long Box x1</h3>
                                </div>
                                <span class="font-medium">$70.00</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <img src="./assets/images/chicken.jpg" alt="Chicken Wings"
                                    class="w-14 h-14 object-cover">
                                <div class="flex-1 font-normal text-sm text-[#1A1A1A]">
                                    <h3>Chicken Wings x1</h3>
                                </div>
                                <span class="font-medium">$14.00</span>
                            </div>
                        </div>

                        <div class="pt-4 mt-2 space-y-2">
                            <div class="flex justify-between text-sm">
                                <span class="text-[#4D4D4D] font-normal">Subtotal</span>
                                <span class="text[#1A1A1A] font-medium">$84.00</span>
                            </div>
                            <div class="flex justify-between text-sm border-t border-[#E6E6E6] pt-2">
                                <span class="text-[#4D4D4D] font-normal">Shipping</span>
                                <span class="text[#1A1A1A] font-medium" id="shipping-cost">$5.00</span>
                            </div>
                            <div class="flex justify-between text-sm pt-2">
                                <span class="text-[#4D4D4D] font-normal">Coupon</span>
                                <span class="text[#1A1A1A] font-medium" id="coupon-cost">25%</span>
                            </div>
                            <div class="flex justify-between text-lg border-t border-[#E6E6E6] pt-4">
                                <span class="text-[#4D4D4D] font-normal">Total</span>
                                <span class="text[#1A1A1A] font-semibold text-lg" id="total-cost">$89.00</span>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Method -->
                    <div class="bg-white rounded-lg shadow-sm p-6">
                        <h2 class="text-xl font-medium mb-4 text-[#1A1A1A]">Payment Method</h2>
                        <div class="space-y-2">
                            <label class="flex items-center px-3 cursor-pointer">
                                <input type="radio" name="paymentMethod" value="bankTransfer" checked
                                    class="h-4 w-4 text-[#D72638] focus:ring-[#D72638] border-gray-300">
                                <span class="ml-3 text-gray-700">Bank Transfer</span>
                            </label>
                            <label class="flex items-center px-3 cursor-pointer">
                                <input type="radio" name="paymentMethod" value="paypal"
                                    class="h-4 w-4 text-[#D72638] focus:ring-[#D72638] border-gray-300">
                                <span class="ml-3 text-gray-700">PayPal</span>
                            </label>
                            <label class="flex items-center px-3 cursor-pointer ">
                                <input type="radio" name="paymentMethod" value="creditCard"
                                    class="h-4 w-4 text-[#D72638] focus:ring-[#D72638] border-gray-300">
                                <span class="ml-3 text-gray-700">Bank Card</span>
                            </label>
                        </div>

                        <button id="place-order-btn"
                            class="w-full mt-6 bg-[#D72638] text-white py-3 px-10 font-semibold text-base rounded-full hover:bg-[#B91C2C] transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-[#D72638] focus:ring-offset-2">
                            Place Order
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-linear-to-r from-[#D72638] to-[#58080E] text-white">
        <div class="2xl:max-w-[1900px] mx-auto ">
            <div class="px-6 md:px-12 lg:px-20 mx-auto py-16 text-center md:text-start">
                <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-8 lg:gap-20">
                    <!-- Left Column - Halal Meat -->
                    <div class="col-span-1 lg:col-span-3">
                        <a href="./index.html" class="cursor-pointer">
                            <h1 class="font-extrabold text-lg lg:text-[32px] text-white font-sniglet">
                                Halal Meat</span>
                            </h1>
                        </a>
                        <p class="text-white font-normal text-base my-8 leading-relaxed font-century-gothic">
                            Lorem ipsum dolor sit amet, adipiscing elit. In hac habitasse platea dictumst. Duis porta,
                            quam
                            ut finibus ultrices.
                        </p>

                        <div class="w-full bg-[#FFFFFF33] h-[1px]"></div>
                        <!-- Social Media Icons -->
                        <div class="flex space-x-4 mt-6 justify-center md:justify-start">
                            <a href="#">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M14 13.5H16.5L17.5 9.5H14V7.5C14 6.47 14 5.5 16 5.5H17.5V2.14C17.174 2.097 15.943 2 14.643 2C11.928 2 10 3.657 10 6.7V9.5H7V13.5H10V22H14V13.5Z"
                                        fill="white" />
                                </svg>
                            </a>
                            <a href="#">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M22.46 6C21.69 6.35 20.86 6.58 20 6.69C20.88 6.16 21.56 5.32 21.88 4.31C21.05 4.81 20.13 5.16 19.16 5.36C18.37 4.5 17.26 4 16 4C13.65 4 11.73 5.92 11.73 8.29C11.73 8.63 11.77 8.96 11.84 9.27C8.28004 9.09 5.11004 7.38 3.00004 4.79C2.63004 5.42 2.42004 6.16 2.42004 6.94C2.42004 8.43 3.17004 9.75 4.33004 10.5C3.62004 10.5 2.96004 10.3 2.38004 10V10.03C2.38004 12.11 3.86004 13.85 5.82004 14.24C5.19077 14.4122 4.53013 14.4362 3.89004 14.31C4.16165 15.1625 4.69358 15.9084 5.41106 16.4429C6.12854 16.9775 6.99549 17.2737 7.89004 17.29C6.37367 18.4904 4.49404 19.1393 2.56004 19.13C2.22004 19.13 1.88004 19.11 1.54004 19.07C3.44004 20.29 5.70004 21 8.12004 21C16 21 20.33 14.46 20.33 8.79C20.33 8.6 20.33 8.42 20.32 8.23C21.16 7.63 21.88 6.87 22.46 6Z"
                                        fill="white" />
                                </svg>
                            </a>
                            <a href="#">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M10 15L15.19 12L10 9V15ZM21.56 7.17C21.69 7.64 21.78 8.27 21.84 9.07C21.91 9.87 21.94 10.56 21.94 11.16L22 12C22 14.19 21.84 15.8 21.56 16.83C21.31 17.73 20.73 18.31 19.83 18.56C19.36 18.69 18.5 18.78 17.18 18.84C15.88 18.91 14.69 18.94 13.59 18.94L12 19C7.81 19 5.2 18.84 4.17 18.56C3.27 18.31 2.69 17.73 2.44 16.83C2.31 16.36 2.22 15.73 2.16 14.93C2.09 14.13 2.06 13.44 2.06 12.84L2 12C2 9.81 2.16 8.2 2.44 7.17C2.69 6.27 3.27 5.69 4.17 5.44C4.64 5.31 5.5 5.22 6.82 5.16C8.12 5.09 9.31 5.06 10.41 5.06L12 5C16.19 5 18.8 5.16 19.83 5.44C20.73 5.69 21.31 6.27 21.56 7.17Z"
                                        fill="white" />
                                </svg>
                            </a>
                            <a href="#">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M12 8.75C11.138 8.75 10.3114 9.09241 9.7019 9.7019C9.09241 10.3114 8.75 11.138 8.75 12C8.75 12.862 9.09241 13.6886 9.7019 14.2981C10.3114 14.9076 11.138 15.25 12 15.25C12.862 15.25 13.6886 14.9076 14.2981 14.2981C14.9076 13.6886 15.25 12.862 15.25 12C15.25 11.138 14.9076 10.3114 14.2981 9.7019C13.6886 9.09241 12.862 8.75 12 8.75Z"
                                        fill="white" />
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M6.76982 3.08194C10.2458 2.69664 13.7538 2.69664 17.2298 3.08194C19.1288 3.29394 20.6598 4.78894 20.8828 6.69494C21.295 10.2196 21.295 13.7803 20.8828 17.3049C20.6598 19.2109 19.1288 20.7059 17.2308 20.9189C13.7545 21.3043 10.2462 21.3043 6.76982 20.9189C4.87082 20.7059 3.33982 19.2109 3.11682 17.3059C2.70455 13.781 2.70455 10.2199 3.11682 6.69494C3.33982 4.78894 4.87082 3.29394 6.76982 3.08194ZM16.9998 5.99994C16.7346 5.99994 16.4802 6.1053 16.2927 6.29284C16.1052 6.48037 15.9998 6.73473 15.9998 6.99994C15.9998 7.26516 16.1052 7.51951 16.2927 7.70705C16.4802 7.89459 16.7346 7.99994 16.9998 7.99994C17.265 7.99994 17.5194 7.89459 17.7069 7.70705C17.8945 7.51951 17.9998 7.26516 17.9998 6.99994C17.9998 6.73473 17.8945 6.48037 17.7069 6.29284C17.5194 6.1053 17.265 5.99994 16.9998 5.99994ZM7.24982 11.9999C7.24982 10.7402 7.75027 9.53198 8.64106 8.64119C9.53186 7.75039 10.74 7.24994 11.9998 7.24994C13.2596 7.24994 14.4678 7.75039 15.3586 8.64119C16.2494 9.53198 16.7498 10.7402 16.7498 11.9999C16.7498 13.2597 16.2494 14.4679 15.3586 15.3587C14.4678 16.2495 13.2596 16.7499 11.9998 16.7499C10.74 16.7499 9.53186 16.2495 8.64106 15.3587C7.75027 14.4679 7.24982 13.2597 7.24982 11.9999Z"
                                        fill="white" />
                                </svg>
                            </a>
                        </div>
                    </div>

                    <!-- Middle Column - Useful Links -->
                    <div class="col-span-1">
                        <h3 class="text-xl font-semibold mb-4 font-livvic">Useful Links</h3>
                        <ul class="space-y-3">
                            <li><a href="#"
                                    class="text-white hover:text-white/60 font-normal text-sm font-century-gothic transition-colors">New
                                    Projects</a></li>
                            <li><a href="#"
                                    class="text-white hover:text-white/60 font-normal text-sm font-century-gothic transition-colors">Our
                                    Services</a></li>
                            <li><a href="#"
                                    class="text-white hover:text-white/60 font-normal text-sm font-century-gothic transition-colors">Testimonials</a>
                            </li>
                            <li><a href="#"
                                    class="text-white hover:text-white/60 font-normal text-sm font-century-gothic transition-colors">About
                                    Us</a></li>
                            <li><a href="#"
                                    class="text-white hover:text-white/60 font-normal text-sm font-century-gothic transition-colors">Contact
                                    us</a></li>
                        </ul>
                    </div>

                    <!-- Right Column - Newsletter -->
                    <div class="col-span-1 lg:col-span-2">
                        <h3 class="text-xl font-semibold mb-4 font-livvic">Newsletter</h3>
                        <p class="text-white mb-6 font-century-gothic font-normal text-base">
                            Subscribe to our weekly Newsletter and receive updates via email.
                        </p>
                        <!-- Newsletter Form -->
                        <div
                            class="flex items-center w-full max-w-md bg-white p-1 bg-opacity-20 rounded-[50px] overflow-hidden focus-within:ring-2 focus-within:ring-white focus-within:ring-opacity-50">
                            <input type="email" placeholder="Enter your mail here..."
                                class="flex-1 px-4 py-3 font-normal text-base font-century-gothic bg-transparent text-[#00000080] placeholder-[#00000080] focus:outline-none" />
                            <button
                                class="bg-[#FF9CA6] text-[#1A1A1A] font-medium text-base font-livvic p-3 rounded-[50px] hover:bg-opacity-70 transition-colors whitespace-nowrap">
                                GO
                            </button>
                        </div>

                    </div>
                </div>
            </div>

            <!-- Bottom Footer Bar -->
            <div class="border-t border-[#FFFFFF80] border-opacity-20">
                <div class="container px-6 md:px-12 lg:px-20 mx-auto py-6">
                    <div
                        class="flex flex-col md:flex-row justify-center md:justify-between text-center md:text-start items-center space-y-4 md:space-y-0 text-base font-century-gothic font-normal">
                        <div class="text-white hover:text-white/60 transition-colors">
                            Copyright ©Smart Agro. All Right Reserved.
                        </div>
                        <div class="flex space-x-6 text-sm">
                            <a href="#" class="text-white hover:text-white/60 transition-colors">Terms & Conditions</a>
                            <a href="#" class="text-white hover:text-white/60 transition-colors">Privacy Policy</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="./mobile-menu.js"></script>
    <script>
        // Global variables
        let isDelivery = true;
        let isImmediate = true;
        let currentShippingCost = 5.00;

        // Simple functions for button clicks
        function showShippingAddressForm() {
            console.log('showShippingAddressForm called');
            const addressFormContainer = document.getElementById('new-address-form-container');
            console.log('Container found:', addressFormContainer);

            if (addressFormContainer) {
                console.log('Container innerHTML before showing:', addressFormContainer.innerHTML);
                addressFormContainer.classList.remove('hidden');
                addressFormContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });

                // تحقق من وجود النموذج بعد إظهار الحاوية
                const formAfterShow = document.getElementById('new-address-form');
                console.log('Form exists after showing:', formAfterShow);

                // تحقق من وجود النموذج داخل الحاوية بعد إظهارها
                const formInContainerAfterShow = addressFormContainer.querySelector('form');
                console.log('Form in container after showing:', formInContainerAfterShow);

                // تحقق من وجود جميع النماذج
                const allFormsAfterShow = document.querySelectorAll('form');
                console.log('All forms after showing:', allFormsAfterShow);
            } else {
                console.error('Shipping address form container not found');
            }
        }

        function showPickupAddressForm() {
            console.log('showPickupAddressForm called');
            const pickupFormContainer = document.getElementById('new-pickup-address-form-container');
            if (pickupFormContainer) {
                pickupFormContainer.classList.remove('hidden');
                pickupFormContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                console.error('Pickup address form container not found');
            }
        }

        function showBillingAddressForm() {
            console.log('showBillingAddressForm called');
            const billingAddressFormContainer = document.getElementById('new-billing-address-form-container');
            if (billingAddressFormContainer) {
                billingAddressFormContainer.classList.remove('hidden');
                billingAddressFormContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            } else {
                console.error('Billing address form container not found');
            }
        }

        function hideShippingAddressForm() {
            console.log('hideShippingAddressForm called');
            const addressFormContainer = document.getElementById('new-address-form-container');
            if (addressFormContainer) {
                addressFormContainer.classList.add('hidden');
                resetNewAddressForm();
            } else {
                console.error('Shipping address form container not found');
            }
        }

        function hideBillingAddressForm() {
            console.log('hideBillingAddressForm called');
            const billingAddressFormContainer = document.getElementById('new-billing-address-form-container');
            if (billingAddressFormContainer) {
                billingAddressFormContainer.classList.add('hidden');
                resetNewBillingAddressForm();
            } else {
                console.error('Billing address form container not found');
            }
        }

        // DOM elements
        const deliveryBtn = document.getElementById('delivery-btn');
        const pickupBtn = document.getElementById('pickup-btn');
        const immediateBtn = document.getElementById('immediate-btn');
        const scheduledBtn = document.getElementById('scheduled-btn');
        const datetimePicker = document.getElementById('datetime-picker');
        const deliveryDateDisplayInput = document.getElementById('delivery-date-display-input');
        const deliveryDateDisplayLabel = document.getElementById('delivery-date-display-label');
        const placeOrderBtn = document.getElementById('place-order-btn');
        const checkoutForm = document.getElementById('checkout-form');
        const shippingCostElement = document.getElementById('shipping-cost');
        const totalCostElement = document.getElementById('total-cost');

        // Calendar and time picker variables
        let currentDate = new Date();
        // Set to first day of current month to ensure proper display
        currentDate.setDate(1);
        let selectedDate = null;
        let selectedHour = '12';
        let selectedMinute = '55';
        let selectedPeriod = 'PM';

        // Address selection functionality
        document.addEventListener('DOMContentLoaded', function () {
            const addressOptions = document.querySelectorAll('.address-option');

            addressOptions.forEach(option => {
                option.addEventListener('click', function () {
                    // Remove active class from all options
                    addressOptions.forEach(opt => opt.classList.remove('active'));

                    // Add active class to clicked option
                    this.classList.add('active');

                    // Check the radio button inside this option
                    const radioInput = this.querySelector('input[type="radio"]');
                    if (radioInput) {
                        radioInput.checked = true;
                    }
                });
            });
            const billingAddressOptions = document.querySelectorAll('.billing-address-option');

            billingAddressOptions.forEach(option => {
                option.addEventListener('click', function () {
                    // Remove active class from all options
                    billingAddressOptions.forEach(opt => opt.classList.remove('active'));

                    // Add active class to clicked option
                    this.classList.add('active');

                    // Check the radio button inside this option
                    const radioInput = this.querySelector('input[type="radio"]');
                    if (radioInput) {
                        radioInput.checked = true;
                    }
                });
            });

            // Pickup address selection functionality
            const pickupAddressOptions = document.querySelectorAll('.pickup-address-option');

            pickupAddressOptions.forEach(option => {
                option.addEventListener('click', function () {
                    // Remove active class from all pickup options
                    pickupAddressOptions.forEach(opt => opt.classList.remove('active'));

                    // Add active class to clicked option
                    this.classList.add('active');

                    // Check the radio button inside this option
                    const radioInput = this.querySelector('input[type="radio"]');
                    if (radioInput) {
                        radioInput.checked = true;
                    }
                });
            });
        });


        document.querySelectorAll('.quantity-increase').forEach(button => {
            button.addEventListener('click', function () {
                const productId = this.getAttribute('data-product');
                console.log('Product ID:', productId); // طباعة productId
                const quantityInput = document.querySelector(`[data-product="${productId}"].quantity-input`);
                console.log('Quantity Input:', quantityInput); // طباعة حقل الإدخال
                const currentQuantity = parseInt(quantityInput.value);
                console.log('Current Quantity:', currentQuantity); // طباعة الكمية الحالية
                quantityInput.value = currentQuantity + 1;
                const item = cartItems.find(item => item.id === productId);
                if (item) {
                    item.quantity = currentQuantity + 1;
                    updateItemSubtotal(productId);
                }
            });
        });
        // Initialize the page
        document.addEventListener('DOMContentLoaded', function () {
            console.log('DOM Content Loaded - Initializing page...');
            try {
                setupEventListeners();
                console.log('setupEventListeners completed');
                updateShippingCost();
                console.log('updateShippingCost completed');
                setMinDate();
                console.log('setMinDate completed');
                initializeCustomDateTimePicker();
                console.log('initializeCustomDateTimePicker completed');
                setupAddressModal();
                console.log('setupAddressModal completed');
                updateDeliveryDateDisplayVisibility();
                console.log('updateDeliveryDateDisplayVisibility completed');
                updateDeliveryDateDisplayLabelVisibility();
                console.log('updateDeliveryDateDisplayLabelVisibility completed');
                console.log('Page initialization complete!');
            } catch (error) {
                console.error('Error during page initialization:', error);
            }
        });

        // Setup all event listeners
        function setupEventListeners() {
            // Delivery/Pickup radio button change
            document.querySelectorAll('input[name="deliveryOption"]').forEach(radio => {
                radio.addEventListener('change', (e) => {
                    if (e.target.value === 'delivery') {
                        toggleDeliveryOption(true);
                    } else {
                        toggleDeliveryOption(false);
                    }
                });
            });

            // Immediate/Scheduled toggle
            immediateBtn.addEventListener('click', () => toggleDeliveryTime(true));
            scheduledBtn.addEventListener('click', () => toggleDeliveryTime(false));

            // Form submission
            placeOrderBtn.addEventListener('click', handleFormSubmission);
            // Backdrop click - improved approach
            datetimePicker.addEventListener('click', (e) => {
                console.log('=== MODAL AREA CLICKED ===');
                console.log('Clicked element:', e.target);
                console.log('Target ID:', e.target.id);

                // Close if clicked on the backdrop (datetime-picker) directly
                if (e.target.id === 'datetime-picker') {
                    console.log('=== BACKDROP CLICKED - CLOSING ===');
                    closeDateTimePicker();
                }
            });

            // Close datetime picker when pressing Escape key
            document.addEventListener('keydown', (e) => {
                console.log('Key pressed:', e.key);
                // Check if modal is visible (not hidden AND display is flex)
                const isModalVisible = !datetimePicker.classList.contains('hidden') &&
                    getComputedStyle(datetimePicker).display !== 'none';
                if (e.key === 'Escape' && isModalVisible) {
                    e.preventDefault(); // منع أي default behavior
                    console.log('Closing modal via Escape key');
                    closeDateTimePicker();
                }
            });

            // Close button - direct event listener
            document.addEventListener('click', (e) => {
                // Check if the clicked element or its parent is the close button
                if (e.target.closest('#close-datetime-picker')) {
                    e.preventDefault();
                    e.stopPropagation();
                    console.log('=== CLOSE BUTTON CLICKED ===');
                    closeDateTimePicker();
                    return;
                }
            });
            // Open datetime picker when display input is clicked
            if (deliveryDateDisplayInput) {
                deliveryDateDisplayInput.addEventListener('click', () => {
                    if (!isImmediate) {
                        console.log('Opening datetime picker modal');

                        // Simple approach - just remove hidden class
                        datetimePicker.classList.remove('hidden');

                        console.log('Modal opened - hidden class removed');
                        console.log('Modal classes after opening:', datetimePicker.className);

                        // Regenerate calendar and setup time picker when modal is shown
                        setTimeout(() => {
                            generateCalendar();
                            setupTimePickerEvents();
                            setupCalendarEvents(); // Re-attach navigation events
                            console.log('Calendar and events setup completed');
                        }, 150);
                    }
                });
            }

            // Real-time validation for all fields (both visible and hidden)
            const allFields = checkoutForm.querySelectorAll('input, select');
            allFields.forEach(field => {
                field.addEventListener('blur', () => validateField(field));
                field.addEventListener('input', () => clearFieldError(field));
            });
        }

        // Toggle delivery/pickup options
        function toggleDeliveryOption(delivery) {
            isDelivery = delivery;

            const deliveryLabel = document.querySelector('label[for="delivery-btn"]');
            const pickupLabel = document.querySelector('label[for="pickup-btn"]');
            const deliveryOption = document.querySelector('.svg-delivery-option');
            const pickupOption = document.querySelector('.svg-pickup-option');

            // Get form field containers
            const deliveryFields = document.getElementById('delivery-fields');
            const pickupFields = document.getElementById('pickup-fields');
            const billingAddressSection = document.getElementById('billing-address-section');
            const deliveryOptionsSection = document.getElementById('delivery-options-section');
            const deliveryAddressSection = document.getElementById('delivery-address-section');


            if (delivery) {
                // Set delivery as active
                deliveryLabel.classList.remove('inactive');
                deliveryLabel.classList.add('active');
                deliveryLabel.classList.remove('border-[#DBDDE3]', 'bg-white', 'text-[#818EA1]');
                deliveryLabel.classList.add('border-[#D72638]', 'bg-[#F4F5FE]', 'text-[#D72638]');
                deliveryOption.classList.remove('text-[#818EA1]');
                deliveryOption.classList.add('text-[#D72638]');

                // Set pickup as inactive
                pickupLabel.classList.remove('active');
                pickupLabel.classList.add('inactive');
                pickupLabel.classList.remove('border-[#D72638]', 'bg-[#F4F5FE]', 'text-[#D72638]');
                pickupLabel.classList.add('border-[#DBDDE3]', 'bg-white', 'text-[#818EA1]');
                pickupOption.classList.remove('text-[#D72638]');
                pickupOption.classList.add('text-[#818EA1]');

                // Show delivery-related content, hide pickup content
                if (deliveryFields) deliveryFields.classList.remove('hidden');
                if (pickupFields) pickupFields.classList.add('hidden');
                if (billingAddressSection) billingAddressSection.classList.remove('hidden');
                if (deliveryOptionsSection) deliveryOptionsSection.classList.remove('hidden');
                if (deliveryAddressSection) deliveryAddressSection.classList.remove('hidden');
            } else {
                // Set pickup as active
                pickupLabel.classList.remove('inactive');
                pickupLabel.classList.add('active');
                pickupLabel.classList.remove('border-[#DBDDE3]', 'bg-white', 'text-[#818EA1]');
                pickupLabel.classList.add('border-[#D72638]', 'bg-[#F4F5FE]', 'text-[#D72638]');
                pickupOption.classList.remove('text-[#818EA1]');
                pickupOption.classList.add('text-[#D72638]');

                // Set delivery as inactive
                deliveryLabel.classList.remove('active');
                deliveryLabel.classList.add('inactive');
                deliveryLabel.classList.remove('border-[#D72638]', 'bg-[#F4F5FE]', 'text-[#D72638]');
                deliveryLabel.classList.add('border-[#DBDDE3]', 'bg-white', 'text-[#818EA1]');
                deliveryOption.classList.remove('text-[#D72638]');
                deliveryOption.classList.add('text-[#818EA1]');

                // Hide delivery-related content, show pickup content
                if (deliveryFields) deliveryFields.classList.add('hidden');
                if (pickupFields) pickupFields.classList.remove('hidden');
                if (billingAddressSection) billingAddressSection.classList.add('hidden');
                if (deliveryOptionsSection) deliveryOptionsSection.classList.add('hidden');
                if (deliveryAddressSection) deliveryAddressSection.classList.add('hidden');
            }

            // Update delivery date display visibility
            updateDeliveryDateDisplayVisibility();
            updateDeliveryDateDisplayLabelVisibility();
            updateShippingCost();
        }

        // Helper function to update button state
        function updateButtonState(activeBtn, inactiveBtn) {
            // Set active button state
            activeBtn.classList.remove('inactive');
            activeBtn.classList.add('active');
            activeBtn.classList.remove('text-black');
            activeBtn.classList.add('text-[#B30310]');

            // Set inactive button state
            inactiveBtn.classList.remove('active');
            inactiveBtn.classList.add('inactive');
            inactiveBtn.classList.remove('text-[#B30310]');
            inactiveBtn.classList.add('text-black');
        }

        // Helper function to manage delivery date display visibility
        function updateDeliveryDateDisplayVisibility() {
            // Show delivery date display only when delivery is selected AND scheduled is chosen
            if (isDelivery && !isImmediate) {
                deliveryDateDisplayInput.classList.remove('hidden');
            } else {
                deliveryDateDisplayInput.classList.add('hidden');
            }
        }

        function closeDateTimePicker() {
            console.log('=== CLOSING MODAL ===');

            const modal = document.getElementById('datetime-picker');
            if (!modal) {
                console.error('Modal element not found!');
                return;
            }

            // Force hide the modal with multiple approaches
            modal.style.display = 'none';
            modal.style.visibility = 'hidden';
            modal.style.opacity = '0';
            modal.style.pointerEvents = 'none';
            modal.classList.add('hidden');

            console.log('Modal forcefully hidden');
            console.log('Final modal state:', {
                display: modal.style.display,
                visibility: modal.style.visibility,
                opacity: modal.style.opacity,
                classes: modal.className
            });
        }
        // Helper function to manage delivery date display label visibility
        function updateDeliveryDateDisplayLabelVisibility() {
            // Show delivery date display only when delivery is selected AND scheduled is chosen
            if (isDelivery && !isImmediate) {
                deliveryDateDisplayLabel.classList.remove('hidden');
            } else {
                deliveryDateDisplayLabel.classList.add('hidden');
            }
        }

        // Toggle immediate/scheduled delivery
        function toggleDeliveryTime(immediate) {
            isImmediate = immediate;

            if (immediate) {
                updateButtonState(immediateBtn, scheduledBtn);
                // Hide the modal
                datetimePicker.classList.add('hidden');
                datetimePicker.style.display = 'none';
                datetimePicker.style.visibility = 'hidden';
                datetimePicker.style.opacity = '0';
                datetimePicker.style.pointerEvents = 'none';
            } else {
                updateButtonState(scheduledBtn, immediateBtn);
                // Show the modal
                datetimePicker.classList.remove('hidden');
                datetimePicker.style.display = 'flex';
                datetimePicker.style.visibility = 'visible';
                datetimePicker.style.opacity = '1';
                datetimePicker.style.pointerEvents = 'auto';

                // Regenerate calendar and setup time picker when modal is shown
                console.log('Regenerating calendar after modal open (second location)');
                setTimeout(() => {
                    generateCalendar();
                    setupTimePickerEvents();
                    setupCalendarEvents(); // Re-attach navigation events
                }, 150);
            }

            // Update delivery date display visibility
            updateDeliveryDateDisplayVisibility();
            updateDeliveryDateDisplayLabelVisibility();
        }

        // Update shipping cost based on delivery option
        function updateShippingCost() {
            if (isDelivery) {
                currentShippingCost = 5.00;
                shippingCostElement.textContent = '$5.00';
            } else {
                currentShippingCost = 0.00;
                shippingCostElement.textContent = 'Free';
            }

            updateTotalCost();
        }

        // Update total cost
        function updateTotalCost() {
            const subtotal = 84.00;
            const total = subtotal + currentShippingCost;
            totalCostElement.textContent = `$${total.toFixed(2)}`;
        }

        // Set minimum date for delivery date picker
        function setMinDate() {
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);

            const dateInput = document.getElementById('delivery-date');
            dateInput.min = tomorrow.toISOString().split('T')[0];
        }

        // Validate individual field
        function validateField(field) {
            const value = field.value.trim();
            const fieldName = field.name;
            const errorElement = document.getElementById(`${fieldName}-error`);

            let isValid = true;
            let errorMessage = '';

            // Required field validation
            if (field.hasAttribute('required') && !value) {
                isValid = false;
                errorMessage = `${getFieldLabel(fieldName)} is required.`;
            }

            // Email validation
            if (fieldName === 'email' && value) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(value)) {
                    isValid = false;
                    errorMessage = 'Please enter a valid email address.';
                }
            }

            // Phone validation
            if (fieldName === 'phone' && value) {
                const phoneRegex = /^[\+]?[1-9][\d]{0,15}$/;
                if (!phoneRegex.test(value.replace(/[\s\-\(\)]/g, ''))) {
                    isValid = false;
                    errorMessage = 'Please enter a valid phone number.';
                }
            }

            // Zip code validation
            if (fieldName === 'zipCode' && value) {
                const zipRegex = /^\d{5}(-\d{4})?$/;
                if (!zipRegex.test(value)) {
                    isValid = false;
                    errorMessage = 'Please enter a valid zip code.';
                }
            }

            // Update UI
            if (isValid) {
                field.classList.remove('form-error');
                if (errorElement) {
                    errorElement.classList.add('hidden');
                    errorElement.textContent = '';
                }
            } else {
                field.classList.add('form-error');
                if (errorElement) {
                    errorElement.classList.remove('hidden');
                    errorElement.textContent = errorMessage;
                }
            }

            return isValid;
        }

        // Clear field error
        function clearFieldError(field) {
            field.classList.remove('form-error');
            const errorElement = document.getElementById(`${field.name}-error`);
            if (errorElement) {
                errorElement.classList.add('hidden');
                errorElement.textContent = '';
            }
        }

        // Get field label for error messages
        function getFieldLabel(fieldName) {
            const labels = {
                firstName: 'First Name',
                lastName: 'Last Name',
                companyName: 'Company Name',
                streetAddress: 'Street Address',
                addressLine1: 'Address Line 1',
                addressLine2: 'Address Line 2',
                country: 'Country',
                state: 'State',
                zipCode: 'Zip Code',
                email: 'Email',
                phone: 'Phone',
                deliveryDate: 'Delivery Date',
                deliveryTime: 'Delivery Time'
            };
            return labels[fieldName] || fieldName;
        }

        // Validate entire form
        function validateForm() {
            let isFormValid = true;

            // Get visible required fields based on delivery/pickup selection
            let requiredFields;
            if (isDelivery) {
                // For delivery: validate delivery fields and contact fields
                requiredFields = document.querySelectorAll('#delivery-fields input[required], #contact-fields input[required], select[required]');
            } else {
                // For pickup: validate pickup fields only
                requiredFields = document.querySelectorAll('#pickup-fields input[required], select[required]');
            }

            requiredFields.forEach(field => {
                if (!validateField(field)) {
                    isFormValid = false;
                }
            });

            // Additional validation for scheduled delivery (only for delivery option)
            if (isDelivery && !isImmediate) {
                const deliveryDate = document.getElementById('delivery-date');
                const deliveryTime = document.getElementById('delivery-time');

                if (!selectedDate || !selectedHour || !selectedMinute || !selectedPeriod) {
                    isFormValid = false;
                    showNotification('Please select both date and time for scheduled delivery.', 'error');
                }
            }

            return isFormValid;
        }

        // // Handle form submission
        // function handleFormSubmission() {
        //     if (!validateForm()) {
        //         showNotification('Please fix the errors in the form before proceeding.', 'error');
        //         return;
        //     }

        //     // Get form data
        //     const formData = new FormData(checkoutForm);
        //     const orderData = {
        //         deliveryOption: isDelivery ? 'delivery' : 'pickup',
        //         deliveryTime: isImmediate ? 'immediate' : 'scheduled',
        //         billing: isDelivery ? {
        //             firstName: formData.get('firstName'),
        //             lastName: formData.get('lastName'),
        //             companyName: formData.get('companyName'),
        //             streetAddress: formData.get('streetAddress'),
        //             country: formData.get('country'),
        //             state: formData.get('state'),
        //             zipCode: formData.get('zipCode'),
        //             email: formData.get('email'),
        //             phone: formData.get('phone'),
        //             differentAddress: formData.get('differentAddress') === 'on'
        //         } : {
        //             addressLine1: formData.get('addressLine1'),
        //             addressLine2: formData.get('addressLine2'),
        //             country: formData.get('country'),
        //             state: formData.get('state'),
        //             zipCode: formData.get('zipCode')
        //         },
        //         orderNotes: formData.get('orderNotes'),
        //         deliveryDate: formData.get('deliveryDate'),
        //         deliveryTime: formData.get('deliveryTime'),
        //         paymentMethod: formData.get('paymentMethod'),
        //         orderSummary: {
        //             subtotal: 84.00,
        //             shipping: currentShippingCost,
        //             total: 84.00 + currentShippingCost
        //         }
        //     };

        //     // Show loading state
        //     placeOrderBtn.disabled = true;
        //     placeOrderBtn.textContent = 'Processing...';

        //     // Simulate API call
        //     setTimeout(() => {
        //         console.log('Order Data:', orderData);
        //         showNotification('Order placed successfully! Redirecting to payment...', 'success');

        //         // Reset button
        //         placeOrderBtn.disabled = false;
        //         placeOrderBtn.textContent = 'Place Order';

        //         // In a real application, you would redirect to payment page
        //         // window.location.href = './payment.html';
        //     }, 2000);
        // }

        // Show notification
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${type === 'success' ? 'bg-green-500 text-white' : 'bg-[#D72638] text-black'
                }`;
            notification.textContent = message;

            document.body.appendChild(notification);

            // Remove notification after 5 seconds
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }

        // Initialize custom date/time picker
        function initializeCustomDateTimePicker() {
            console.log('initializeCustomDateTimePicker called');
            console.log('currentDate:', currentDate);
            generateCalendar();
            setupTimePickerEvents();
            setupCalendarEvents();
        }

        // Generate calendar
        function generateCalendar() {
            console.log('generateCalendar called');
            console.log('Current date for calendar:', currentDate);

            // Wait a bit to ensure DOM is ready
            setTimeout(() => {
                const calendarDates = document.getElementById('calendar-dates');
                const currentMonthYear = document.getElementById('current-month-year');

                console.log('calendarDates element:', calendarDates);
                console.log('currentMonthYear element:', currentMonthYear);

                if (!calendarDates || !currentMonthYear) {
                    console.error('Calendar elements not found!');
                    return;
                }

                const year = currentDate.getFullYear();
                const month = currentDate.getMonth();

                console.log('Generating calendar for:', year, month);

                currentMonthYear.textContent = currentDate.toLocaleDateString('en-US', {
                    month: 'long',
                    year: 'numeric'
                });

                // Clear previous dates
                calendarDates.innerHTML = '';

                // Get first day of month and number of days
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const daysInMonth = lastDay.getDate();
                const startingDayOfWeek = (firstDay.getDay() + 6) % 7; // Convert Sunday=0 to Monday=0

                console.log('Days in month:', daysInMonth, 'Starting day of week:', startingDayOfWeek);

                // Add empty cells for days before the first day of the month
                for (let i = 0; i < startingDayOfWeek; i++) {
                    const emptyCell = document.createElement('div');
                    emptyCell.className = 'h-8';
                    calendarDates.appendChild(emptyCell);
                }

                // Add days of the month
                for (let day = 1; day <= daysInMonth; day++) {
                    const dateCell = document.createElement('div');
                    dateCell.className = 'h-8 flex items-center justify-center text-sm cursor-pointer hover:bg-gray-100 rounded text-gray-800';
                    dateCell.textContent = day;
                    dateCell.dataset.day = day;
                    dateCell.dataset.date = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;

                    // Highlight weekends in red
                    const dayOfWeek = new Date(year, month, day).getDay();
                    if (dayOfWeek === 0 || dayOfWeek === 6) { // Sunday or Saturday
                        dateCell.classList.add('text-[#D72638]');
                    }

                    // Highlight selected date
                    if (selectedDate && dateCell.dataset.date === selectedDate) {
                        dateCell.classList.add('bg-[#D72638]', 'text-black', 'rounded');
                    }

                    dateCell.addEventListener('click', () => selectDate(dateCell));
                    calendarDates.appendChild(dateCell);
                }

                console.log('Calendar generation completed. Total cells:', calendarDates.children.length);
            }, 50);
        }

        // Select date
        function selectDate(dateElement) {
            // Remove previous selection
            document.querySelectorAll('#calendar-dates > div').forEach(cell => {
                cell.classList.remove('bg-[#D72638]', 'text-black');
                // Preserve weekend highlighting
                const dayOfWeek = new Date(cell.dataset.date).getDay();
                if (dayOfWeek === 0 || dayOfWeek === 6) { // Sunday or Saturday
                    cell.classList.add('text-[#D72638]');
                }
            });

            // Add selection to clicked date
            dateElement.classList.add('bg-[#D72638]', 'text-black', 'rounded');
            dateElement.classList.remove('text-[#D72638]');

            selectedDate = dateElement.dataset.date;
            updateHiddenInputs();
        }

        // Setup calendar navigation events
        function setupCalendarEvents() {
            console.log('Setting up calendar events...');

            // Use setTimeout to ensure DOM is ready
            setTimeout(() => {
                const prevMonthBtn = document.getElementById('prev-month');
                const nextMonthBtn = document.getElementById('next-month');

                console.log('prevMonthBtn found:', !!prevMonthBtn);
                console.log('nextMonthBtn found:', !!nextMonthBtn);

                if (prevMonthBtn) {
                    // Remove any existing listeners first
                    prevMonthBtn.replaceWith(prevMonthBtn.cloneNode(true));
                    const newPrevBtn = document.getElementById('prev-month');

                    newPrevBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('Previous month clicked');
                        currentDate.setMonth(currentDate.getMonth() - 1);
                        console.log('New date:', currentDate);
                        generateCalendar();
                    });
                    console.log('Previous month button event attached');
                }

                if (nextMonthBtn) {
                    // Remove any existing listeners first
                    nextMonthBtn.replaceWith(nextMonthBtn.cloneNode(true));
                    const newNextBtn = document.getElementById('next-month');

                    newNextBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('Next month clicked');
                        currentDate.setMonth(currentDate.getMonth() + 1);
                        console.log('New date:', currentDate);
                        generateCalendar();
                    });
                    console.log('Next month button event attached');
                }
            }, 100);
        }

        // Setup time picker events
        function setupTimePickerEvents() {
            console.log('setupTimePickerEvents called');

            // Wait a bit to ensure DOM is ready
            setTimeout(() => {
                // Hour selection
                const hourOptions = document.querySelectorAll('.hour-option');
                console.log('Found hour options:', hourOptions.length);

                hourOptions.forEach(option => {
                    // Remove existing event listeners to prevent duplicates
                    option.removeEventListener('click', handleHourClick);
                    option.addEventListener('click', handleHourClick);
                });

                // Minute selection
                const minuteOptions = document.querySelectorAll('.minute-option');
                console.log('Found minute options:', minuteOptions.length);

                minuteOptions.forEach(option => {
                    // Remove existing event listeners to prevent duplicates
                    option.removeEventListener('click', handleMinuteClick);
                    option.addEventListener('click', handleMinuteClick);
                });

                // Period selection
                const periodOptions = document.querySelectorAll('.period-option');
                console.log('Found period options:', periodOptions.length);

                periodOptions.forEach(option => {
                    // Remove existing event listeners to prevent duplicates
                    option.removeEventListener('click', handlePeriodClick);
                    option.addEventListener('click', handlePeriodClick);
                });
            }, 100);
        }

        // Hour click handler
        function handleHourClick(event) {
            console.log('Hour clicked:', event.target.dataset.hour);
            selectedHour = event.target.dataset.hour;
            const selectedHourElement = document.getElementById('selected-hour');
            if (selectedHourElement) {
                selectedHourElement.textContent = selectedHour;
            }
            updateHiddenInputs();
        }

        // Minute click handler
        function handleMinuteClick(event) {
            console.log('Minute clicked:', event.target.dataset.minute);
            selectedMinute = event.target.dataset.minute;
            const selectedMinuteElement = document.getElementById('selected-minute');
            if (selectedMinuteElement) {
                selectedMinuteElement.textContent = selectedMinute;
            }
            updateHiddenInputs();
        }

        // Period click handler
        function handlePeriodClick(event) {
            console.log('Period clicked:', event.target.dataset.period);
            selectedPeriod = event.target.dataset.period;

            // Update styling - toggle between AM and PM
            document.querySelectorAll('.period-option').forEach(opt => {
                // Reset all options to default styling
                opt.classList.remove('bg-[#FFCFD4]', 'border-[#F48E98]', 'border-2');
                opt.classList.add('border', 'border-[#D7D7D7]');
            });

            // Apply selected styling to clicked option
            event.target.classList.remove('border', 'border-[#D7D7D7]');
            event.target.classList.add('bg-[#FFCFD4]', 'border-2', 'border-[#F48E98]');

            updateHiddenInputs();
        }

        // Update hidden inputs and display
        function updateHiddenInputs() {
            console.log('updateHiddenInputs called with:', {
                selectedDate,
                selectedHour,
                selectedMinute,
                selectedPeriod
            });

            const dateInput = document.getElementById('delivery-date');
            const timeInput = document.getElementById('delivery-time');
            const displayInput = document.getElementById('delivery-date-display-input');
            const displayLabel = document.getElementById('delivery-date-display-label');

            if (dateInput && selectedDate) {
                dateInput.value = selectedDate;
                console.log('Updated date input:', dateInput.value);
            }

            if (timeInput) {
                // Convert 12-hour to 24-hour format
                let hour24 = parseInt(selectedHour);
                if (selectedPeriod === 'PM' && hour24 !== 12) {
                    hour24 += 12;
                } else if (selectedPeriod === 'AM' && hour24 === 12) {
                    hour24 = 0;
                }

                const time24 = `${String(hour24).padStart(2, '0')}:${selectedMinute}`;
                timeInput.value = time24;
                console.log('Updated time input:', timeInput.value);
            }

            // Update display input
            if (displayInput && selectedDate) {
                const displayDate = new Date(selectedDate).toLocaleDateString('en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                const displayTime = `${selectedHour}:${selectedMinute} ${selectedPeriod}`;
                displayInput.value = `${displayDate} at ${displayTime}`;
                console.log('Updated display input:', displayInput.value);
            }
        }

        // Address Form Functionality
        function setupAddressModal() {
            console.log('Setting up address modal...');

            // تحقق من وجود النموذج عند التحميل
            const formCheck = document.getElementById('new-address-form');
            console.log('Form exists at setup:', formCheck);

            const containerCheck = document.getElementById('new-address-form-container');
            console.log('Container exists at setup:', containerCheck);

            if (containerCheck) {
                console.log('Container innerHTML at setup:', containerCheck.innerHTML);

                // تحقق من وجود النموذج داخل الحاوية
                const formInContainer = containerCheck.querySelector('form');
                console.log('Form in container at setup:', formInContainer);

                // تحقق من وجود النموذج بالـ ID
                const formById = document.getElementById('new-address-form');
                console.log('Form by ID at setup:', formById);
            }

            try {
                // Shipping Address Form Setup
                const addAddressBtn = document.getElementById('add-address-btn');
                const addressFormContainer = document.getElementById('new-address-form-container');
                const cancelAddressBtn = document.getElementById('cancel-address-btn');
                const newAddressForm = document.getElementById('new-address-form');
                const saveAddressBtn = document.getElementById('save-address-btn');

                // Billing Address Form Setup
                const addBillingAddressBtn = document.getElementById('add-billing-address-btn');
                const billingAddressFormContainer = document.getElementById('new-billing-address-form-container');
                const cancelBillingAddressBtn = document.getElementById('cancel-billing-address-btn');
                const newBillingAddressForm = document.getElementById('new-billing-address-form');
                const saveBillingAddressBtn = document.getElementById('save-billing-address-btn');

                console.log('Elements found:', {
                    addAddressBtn: !!addAddressBtn,
                    addressFormContainer: !!addressFormContainer,
                    addBillingAddressBtn: !!addBillingAddressBtn,
                    billingAddressFormContainer: !!billingAddressFormContainer
                });

                // Show shipping address form when "Add new shipping address" button is clicked
                if (addAddressBtn) {
                    console.log('Adding click listener to shipping address button');
                    addAddressBtn.addEventListener('click', function (e) {
                        e.preventDefault();
                        console.log('Shipping address button clicked!');
                        // alert('Shipping address button clicked!');
                        addressFormContainer.classList.remove('hidden');
                        // Scroll to the form
                        addressFormContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    });
                } else {
                    console.log('Shipping address button not found!');
                }

                // Show billing address form when "Add new billing address" button is clicked
                if (addBillingAddressBtn) {
                    console.log('Adding click listener to billing address button');
                    addBillingAddressBtn.addEventListener('click', function (e) {
                        e.preventDefault();
                        console.log('Billing address button clicked!');
                        // alert('Billing address button clicked!');
                        billingAddressFormContainer.classList.remove('hidden');
                        // Scroll to the form
                        billingAddressFormContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    });
                } else {
                    console.log('Billing address button not found!');
                }

                // Hide shipping form when cancel button is clicked
                if (cancelAddressBtn) {
                    cancelAddressBtn.addEventListener('click', function () {
                        hideAddressForm();
                    });
                }

                // Hide billing form when cancel button is clicked
                if (cancelBillingAddressBtn) {
                    cancelBillingAddressBtn.addEventListener('click', function () {
                        hideBillingAddressForm();
                    });
                }

                // Handle shipping address form submission
                if (newAddressForm) {
                    console.log('Shipping form found, adding event listeners...');
                    newAddressForm.addEventListener('submit', function (e) {
                        e.preventDefault();

                        if (validateNewAddressForm()) {
                            saveNewAddress();
                        }
                    });

                    // Real-time validation for shipping form fields
                    const formFields = newAddressForm.querySelectorAll('input, select');
                    console.log('Found form fields:', formFields.length);
                    formFields.forEach(field => {
                        console.log('Adding event listener to field:', field.id);
                        field.addEventListener('blur', () => validateNewAddressField(field));
                        field.addEventListener('input', () => {
                            clearNewAddressFieldError(field);
                            // Auto-save when all required fields are filled
                            console.log('Shipping field input detected:', field.id, field.value);
                            autoSaveShippingAddress();
                        });
                    });
                } else {
                    console.log('Shipping form NOT found!');
                }

                // Add manual save button event listener
                const manualSaveBtn = document.getElementById('manual-save-shipping-btn');
                if (manualSaveBtn) {
                    console.log('Manual save button found, adding event listener...');
                    manualSaveBtn.addEventListener('click', function () {
                        console.log('Manual save button clicked!');
                        if (validateNewAddressForm()) {
                            console.log('Form is valid, saving...');
                            saveNewAddress();
                        } else {
                            console.log('Form is not valid');
                        }
                    });
                } else {
                    console.log('Manual save button NOT found!');
                }

                // Handle billing address form submission
                if (newBillingAddressForm) {
                    newBillingAddressForm.addEventListener('submit', function (e) {
                        e.preventDefault();

                        if (validateNewBillingAddressForm()) {
                            saveNewBillingAddress();
                        }
                    });

                    // Real-time validation for billing form fields
                    const billingFormFields = newBillingAddressForm.querySelectorAll('input, select');
                    billingFormFields.forEach(field => {
                        field.addEventListener('blur', () => validateNewBillingAddressField(field));
                        field.addEventListener('input', () => {
                            clearNewBillingAddressFieldError(field);
                            // Auto-save when all required fields are filled
                            console.log('Billing field input detected:', field.id, field.value);
                            autoSaveBillingAddress();
                        });
                    });
                }

                // Handle pickup address form submission
                const newPickupAddressForm = document.getElementById('new-pickup-address-form');
                if (newPickupAddressForm) {
                    newPickupAddressForm.addEventListener('submit', function (e) {
                        e.preventDefault();

                        if (validateNewPickupAddressForm()) {
                            saveNewPickupAddress();
                        }
                    });

                    // Real-time validation for pickup form fields
                    const pickupFormFields = newPickupAddressForm.querySelectorAll('input, select');
                    pickupFormFields.forEach(field => {
                        field.addEventListener('blur', () => validateNewPickupAddressField(field));
                        field.addEventListener('input', () => {
                            clearNewPickupAddressFieldError(field);
                            // Auto-save when all required fields are filled
                            console.log('Pickup field input detected:', field.id, field.value);
                            autoSavePickupAddress();
                        });
                    });

                    // Handle save button click
                    const savePickupAddressBtn = document.getElementById('save-pickup-address-btn');
                    if (savePickupAddressBtn) {
                        savePickupAddressBtn.addEventListener('click', function (e) {
                            e.preventDefault();
                            console.log('Save pickup address button clicked');
                            if (validateNewPickupAddressForm()) {
                                saveNewPickupAddress();
                                // Hide the form after saving
                                const formContainer = document.getElementById('new-pickup-address-form-container');
                                if (formContainer) {
                                    formContainer.classList.add('hidden');
                                }
                            }
                        });
                    }

                    // Handle cancel button click
                    const cancelPickupAddressBtn = document.getElementById('cancel-pickup-address-btn');
                    if (cancelPickupAddressBtn) {
                        cancelPickupAddressBtn.addEventListener('click', function (e) {
                            e.preventDefault();
                            console.log('Cancel pickup address button clicked');
                            // Hide the form
                            const formContainer = document.getElementById('new-pickup-address-form-container');
                            if (formContainer) {
                                formContainer.classList.add('hidden');
                            }
                            // Reset the form
                            newPickupAddressForm.reset();
                        });
                    }
                }
            } catch (error) {
                console.error('Error in setupAddressModal:', error);
            }
        }

        function hideAddressForm() {
            const addressFormContainer = document.getElementById('new-address-form-container');
            addressFormContainer.classList.add('hidden');
            resetNewAddressForm();
        }

        function hideBillingAddressForm() {
            const billingAddressFormContainer = document.getElementById('new-billing-address-form-container');
            billingAddressFormContainer.classList.add('hidden');
            resetNewBillingAddressForm();
        }

        function validateNewAddressForm() {
            let isValid = true;
            const requiredFields = [
                'new-address-line1',
                'new-city',
                'new-state',
                'new-zip-code'
            ];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!validateNewAddressField(field)) {
                    isValid = false;
                }
            });

            return isValid;
        }

        function validateNewAddressField(field) {
            const value = field.value.trim();
            const fieldName = field.name;
            const errorElement = document.getElementById(`${field.id}-error`);

            let isValid = true;
            let errorMessage = '';

            // Required field validation
            if (field.hasAttribute('required') && !value) {
                isValid = false;
                errorMessage = `${getNewAddressFieldLabel(fieldName)} is required.`;
            }

            // Zip code validation
            if (fieldName === 'zipCode' && value) {
                const zipRegex = /^\d{5}(-\d{4})?$/;
                if (!zipRegex.test(value)) {
                    isValid = false;
                    errorMessage = 'Please enter a valid zip code.';
                }
            }

            // Update UI
            if (isValid) {
                field.classList.remove('form-error');
                if (errorElement) {
                    errorElement.classList.add('hidden');
                    errorElement.textContent = '';
                }
            } else {
                field.classList.add('form-error');
                if (errorElement) {
                    errorElement.classList.remove('hidden');
                    errorElement.textContent = errorMessage;
                }
            }

            return isValid;
        }

        function clearNewAddressFieldError(field) {
            field.classList.remove('form-error');
            const errorElement = document.getElementById(`${field.id}-error`);
            if (errorElement) {
                errorElement.classList.add('hidden');
                errorElement.textContent = '';
            }
        }

        function getNewAddressFieldLabel(fieldName) {
            const labels = {
                addressLine1: 'Address Line 1',
                addressLine2: 'Address Line 2',
                city: 'City',
                state: 'State',
                zipCode: 'Zip Code'
            };
            return labels[fieldName] || fieldName;
        }

        function saveNewAddress() {
            console.log('saveNewAddress function called - NEW VERSION');

            // الحصول على النموذج
            const form = document.getElementById('new-address-form');
            console.log('Form found:', form);

            // إذا لم يتم العثور على النموذج، جرب البحث في الحاوية المخفية
            if (!form) {
                console.log('Form not found by ID, trying to find in hidden container...');

                // جرب البحث عن النموذج في الحاوية المخفية
                const formContainer = document.getElementById('new-address-form-container');
                console.log('Form container:', formContainer);

                if (formContainer) {
                    console.log('Form container innerHTML:', formContainer.innerHTML);
                    const formInContainer = formContainer.querySelector('form');
                    console.log('Form in container:', formInContainer);

                    // جرب البحث عن النموذج بالـ ID مباشرة
                    const formById = document.getElementById('new-address-form');
                    console.log('Form by ID:', formById);

                    // جرب البحث عن جميع النماذج
                    const allForms = document.querySelectorAll('form');
                    console.log('All forms in document:', allForms);

                    // جرب البحث عن النموذج بالاسم
                    const formByName = document.querySelector('form[id="new-address-form"]');
                    console.log('Form by querySelector:', formByName);

                    if (formInContainer) {
                        console.log('Found form in hidden container, using it');
                        // استخدم النموذج من الحاوية المخفية
                        const addressLine1 = formInContainer.querySelector('#new-address-line1').value;
                        const addressLine2 = formInContainer.querySelector('#new-address-line2').value;
                        const city = formInContainer.querySelector('#new-city').value;
                        const state = formInContainer.querySelector('#new-state').value;
                        const zipCode = formInContainer.querySelector('#new-zip-code').value;

                        console.log('Form data from hidden form:', { addressLine1, addressLine2, city, state, zipCode });

                        // التحقق من أن الحقول المطلوبة مملوءة
                        if (!addressLine1 || !city || !state || !zipCode) {
                            console.log('Required fields missing');
                            alert('يرجى ملء جميع الحقول المطلوبة');
                            return;
                        }
                        console.log('All required fields filled');

                        // إنشاء العنوان الجديد
                        console.log('Creating new address object...');
                        const newAddress = {
                            addressLine1: addressLine1,
                            addressLine2: addressLine2,
                            city: city,
                            state: state,
                            zipCode: zipCode
                        };
                        console.log('New address created:', newAddress);

                        // إضافة العنوان الجديد للقائمة
                        console.log('Calling addAddressToList...');
                        addAddressToList(newAddress);
                        console.log('addAddressToList completed');

                        // مسح النموذج
                        console.log('Resetting form...');
                        formInContainer.reset();

                        // إخفاء النموذج
                        console.log('Hiding form...');
                        formContainer.classList.add('hidden');
                        console.log('Form hidden');

                        // رسالة نجاح
                        console.log('Showing success alert...');
                        alert('تم إضافة العنوان بنجاح!');
                        console.log('saveNewAddress completed successfully');
                        return;
                    }
                }

                console.log('Form not found anywhere, returning');
                return;
            }

            // الحصول على البيانات من النموذج
            console.log('Getting form data...');
            const addressLine1 = document.getElementById('new-address-line1').value;
            const addressLine2 = document.getElementById('new-address-line2').value;
            const city = document.getElementById('new-city').value;
            const state = document.getElementById('new-state').value;
            const zipCode = document.getElementById('new-zip-code').value;

            console.log('Form data:', { addressLine1, addressLine2, city, state, zipCode });

            // التحقق من أن الحقول المطلوبة مملوءة
            if (!addressLine1 || !city || !state || !zipCode) {
                console.log('Required fields missing');
                alert('يرجى ملء جميع الحقول المطلوبة');
                return;
            }
            console.log('All required fields filled');

            // إنشاء العنوان الجديد
            console.log('Creating new address object...');
            const newAddress = {
                addressLine1: addressLine1,
                addressLine2: addressLine2,
                city: city,
                state: state,
                zipCode: zipCode
            };
            console.log('New address created:', newAddress);

            // إضافة العنوان الجديد للقائمة
            console.log('Calling addAddressToList...');
            addAddressToList(newAddress);
            console.log('addAddressToList completed');

            // مسح النموذج
            console.log('Resetting form...');
            form.reset();

            // إخفاء النموذج
            console.log('Hiding form...');
            const formContainer = document.getElementById('new-address-form-container');
            if (formContainer) {
                formContainer.classList.add('hidden');
                console.log('Form hidden');
            }

            console.log('Showing success alert...');
            showDeliveryMessage('Delivery address added successfully!', 'success');
            console.log('saveNewAddress completed successfully');
        }

        function addAddressToList(address) {
            console.log('addAddressToList called with:', address);

            const addressContainer = document.querySelector('.address-option').parentNode;
            console.log('Address container found:', addressContainer);

            const addressId = 'address-' + Date.now();


            const fullAddress = `${address.addressLine1}${address.addressLine2 ? ', ' + address.addressLine2 : ''}, ${address.city}, ${address.state} ${address.zipCode}`;


            const newAddressElement = document.createElement('div');
            newAddressElement.className = 'address-option flex items-center justify-between gap-2 border border-[#C8C8C8] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[#D72638] hover:shadow-md';
            newAddressElement.setAttribute('data-address', 'new');


            newAddressElement.innerHTML = `
                <label class="flex flex-col gap-2 cursor-pointer" for="${addressId}">
                    <p class="font-semibold text-base text-black">عنوان جديد</p>
                    <p class="text-base text-[#9E9494] font-normal">${fullAddress}</p>
                </label>
                <div class="flex items-center gap-2">
                    <input type="radio" name="deliveryAddress" value="new"
                        class="w-4 h-4 text-[#D72638] focus:ring-[#D72638] border-gray-300"
                        id="${addressId}" />
                </div>
            `;


            newAddressElement.addEventListener('click', function () {

                document.querySelectorAll('.address-option').forEach(opt => opt.classList.remove('active'));


                this.classList.add('active');


                const radioInput = this.querySelector('input[type="radio"]');
                if (radioInput) {
                    radioInput.checked = true;
                }
            });

            const addButton = document.getElementById('add-address-btn');

            if (addressContainer && addButton) {
                addressContainer.insertBefore(newAddressElement, addButton);
                console.log('Address element inserted successfully');
            } else {
                console.log('Could not insert address - container or button not found');
            }
            console.log('addAddressToList completed');
        }

        function resetNewAddressForm() {
            const form = document.getElementById('new-address-form');
            form.reset();

            // Clear all error states
            const errorElements = form.querySelectorAll('.error-message');
            errorElements.forEach(element => {
                element.classList.add('hidden');
                element.textContent = '';
            });

            const formFields = form.querySelectorAll('input, select');
            formFields.forEach(field => {
                field.classList.remove('form-error');
            });
        }

        // Billing Address Form Functions
        function validateNewBillingAddressForm() {
            let isValid = true;
            const requiredFields = [
                'new-billing-address-line1',
                'new-billing-city',
                'new-billing-state',
                'new-billing-zip-code'
            ];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!validateNewBillingAddressField(field)) {
                    isValid = false;
                }
            });

            return isValid;
        }

        function validateNewBillingAddressField(field) {
            const value = field.value.trim();
            const fieldName = field.name;
            const errorElement = document.getElementById(`${field.id}-error`);

            let isValid = true;
            let errorMessage = '';

            // Required field validation
            if (field.hasAttribute('required') && !value) {
                isValid = false;
                errorMessage = `${getNewAddressFieldLabel(fieldName)} is required.`;
            }

            // Zip code validation
            if (fieldName === 'zipCode' && value) {
                const zipRegex = /^\d{5}(-\d{4})?$/;
                if (!zipRegex.test(value)) {
                    isValid = false;
                    errorMessage = 'Please enter a valid zip code.';
                }
            }

            // Update UI
            if (isValid) {
                field.classList.remove('form-error');
                if (errorElement) {
                    errorElement.classList.add('hidden');
                    errorElement.textContent = '';
                }
            } else {
                field.classList.add('form-error');
                if (errorElement) {
                    errorElement.classList.remove('hidden');
                    errorElement.textContent = errorMessage;
                }
            }

            return isValid;
        }

        function clearNewBillingAddressFieldError(field) {
            field.classList.remove('form-error');
            const errorElement = document.getElementById(`${field.id}-error`);
            if (errorElement) {
                errorElement.classList.add('hidden');
                errorElement.textContent = '';
            }
        }

        function saveNewBillingAddress() {
            const formData = new FormData(document.getElementById('new-billing-address-form'));
            const newAddress = {
                addressLine1: formData.get('addressLine1'),
                addressLine2: formData.get('addressLine2'),
                city: formData.get('city'),
                state: formData.get('state'),
                zipCode: formData.get('zipCode')
            };

            console.log('Saving new billing address:', newAddress);

            // Add the new address to the billing address options immediately
            addNewBillingAddressOption(newAddress);

            // Show success message
            showNotification('New billing address added successfully!', 'success');

            // Clear the form
            resetNewBillingAddressForm();
        }

        function addNewBillingAddressOption(address) {
            const billingAddressOptionsContainer = document.querySelector('.billing-address-option').parentNode;

            // Count existing new billing addresses to create unique names
            const existingNewBillingAddresses = document.querySelectorAll('.billing-address-option[data-address="new"]');
            const addressNumber = existingNewBillingAddresses.length + 1;
            const addressName = `Billing Address ${addressNumber}`;

            // Create new billing address option element
            const newAddressOption = document.createElement('div');
            newAddressOption.className = 'billing-address-option flex items-center justify-between gap-2 border border-[#C8C8C8] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[#D72638] hover:shadow-md';
            newAddressOption.setAttribute('data-address', 'new');

            const addressId = `new-billing-address-${Date.now()}`;
            const fullAddress = `${address.addressLine1}${address.addressLine2 ? ', ' + address.addressLine2 : ''}, ${address.city}, ${address.state} ${address.zipCode}`;

            newAddressOption.innerHTML = `
                <label class="flex flex-col gap-2 cursor-pointer" for="${addressId}">
                    <p class="font-semibold text-base text-black">${addressName}</p>
                    <p class="text-base text-[#9E9494] font-normal">${fullAddress}</p>
                </label>
                <div class="flex items-center gap-2">
                    <input type="radio" name="billingAddress" value="new"
                        class="w-4 h-4 text-[#D72638] focus:ring-[#D72638] border-gray-300"
                        id="${addressId}" />
                </div>
            `;

            // Add click event listener to the new billing address option
            newAddressOption.addEventListener('click', function () {
                // Remove active class from all billing options
                document.querySelectorAll('.billing-address-option').forEach(opt => opt.classList.remove('active'));

                // Add active class to clicked option
                this.classList.add('active');

                // Check the radio button inside this option
                const radioInput = this.querySelector('input[type="radio"]');
                if (radioInput) {
                    radioInput.checked = true;
                }
            });

            // Insert the new billing address option before the "Add new billing address" button
            const addButton = document.getElementById('add-billing-address-btn');
            billingAddressOptionsContainer.insertBefore(newAddressOption, addButton);

            // Show success message
            showNotification(`${addressName} added successfully!`, 'success');
        }

        function resetNewBillingAddressForm() {
            const form = document.getElementById('new-billing-address-form');
            form.reset();

            // Clear all error states
            const errorElements = form.querySelectorAll('.error-message');
            errorElements.forEach(element => {
                element.classList.add('hidden');
                element.textContent = '';
            });

            const formFields = form.querySelectorAll('input, select');
            formFields.forEach(field => {
                field.classList.remove('form-error');
            });
        }
        const differentAddressCheckbox = document.getElementById('billing-address-checkbox');
        const billingForm = document.getElementById('billing-form');
        differentAddressCheckbox.addEventListener('click', (e) => {
            if (e.target.checked) {
                billingForm.classList.remove('hidden');
            } else {
                billingForm.classList.add('hidden');
            }
        });


        // Pickup address validation and save functions
        function validateNewPickupAddressForm() {
            let isValid = true;
            const requiredFields = [
                'new-pickup-address-line1',
                'new-pickup-city',
                'new-pickup-state',
                'new-pickup-zip-code'
            ];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!validateNewPickupAddressField(field)) {
                    isValid = false;
                }
            });

            return isValid;
        }

        function validateNewPickupAddressField(field) {
            const value = field.value.trim();
            const fieldId = field.id;
            const errorElement = document.getElementById(fieldId + '-error');

            if (field.hasAttribute('required') && !value) {
                showFieldError(field, errorElement, 'This field is required');
                return false;
            }

            // Additional validation for specific fields
            if (fieldId === 'new-pickup-zip-code' && value && !/^\d{5}(-\d{4})?$/.test(value)) {
                showFieldError(field, errorElement, 'Please enter a valid ZIP code');
                return false;
            }

            clearFieldError(field, errorElement);
            return true;
        }

        function clearNewPickupAddressFieldError(field) {
            const errorElement = document.getElementById(field.id + '-error');
            clearFieldError(field, errorElement);
        }

        function saveNewPickupAddress() {
            const formData = new FormData(document.getElementById('new-pickup-address-form'));
            const newAddress = {
                addressLine1: formData.get('addressLine1'),
                addressLine2: formData.get('addressLine2'),
                city: formData.get('city'),
                state: formData.get('state'),
                zipCode: formData.get('zipCode')
            };

            // Count existing new pickup addresses to create unique names
            const existingNewPickupAddresses = document.querySelectorAll('.pickup-address-option[data-address^="pickup-"]');
            const addressNumber = existingNewPickupAddresses.length + 1;
            const addressName = `New Address`;

            // Create a unique ID for the new address
            const addressId = 'pickup-' + Date.now();

            // Create the new address option HTML
            const newAddressOption = document.createElement('div');
            newAddressOption.className = 'pickup-address-option flex items-center justify-between gap-2 border border-[#C8C8C8] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[#D72638] hover:shadow-md';
            newAddressOption.setAttribute('data-address', addressId);
            newAddressOption.innerHTML = `
                <label class="flex flex-col gap-2 cursor-pointer">
                    <p class="font-semibold text-base text-black">${addressName}</p>
                    <p class="text-base text-[#9E9494] font-normal">${newAddress.addressLine1}${newAddress.addressLine2 ? ', ' + newAddress.addressLine2 : ''}, ${newAddress.city}, ${newAddress.state} ${newAddress.zipCode}</p>
                </label>
                <div class="flex items-center gap-2">
                    <input type="radio" name="pickupAddress" value="saved"
                        class="w-4 h-4 text-[#D72638] focus:ring-[#D72638] border-gray-300"
                        id="${addressId}" />
                </div>
            `;

            // Add click event listener to the new address option
            newAddressOption.addEventListener('click', function () {
                // Remove active class from all pickup options
                document.querySelectorAll('.pickup-address-option').forEach(opt => opt.classList.remove('active'));

                // Add active class to clicked option
                this.classList.add('active');

                // Check the radio button inside this option
                const radioInput = this.querySelector('input[type="radio"]');
                if (radioInput) {
                    radioInput.checked = true;
                }
            });

            // Insert the new address option before the "Add new pickup location" button
            const addButton = document.getElementById('add-pickup-address-btn');
            addButton.parentNode.insertBefore(newAddressOption, addButton);

            // Clear the form
            document.getElementById('new-pickup-address-form').reset();

            // Show success message
            showNotification(`${addressName} added successfully!`, 'success');
        }

        // Auto-save functions
        function autoSaveShippingAddress() {
            const form = document.getElementById('new-address-form');
            if (!form) return;

            const requiredFields = ['new-address-line1', 'new-city', 'new-state', 'new-zip-code'];
            const allFilled = requiredFields.every(fieldId => {
                const field = document.getElementById(fieldId);
                return field && field.value.trim() !== '';
            });

            console.log('Auto-save shipping check:', { allFilled, formValid: validateNewAddressForm() });

            if (allFilled && validateNewAddressForm()) {
                console.log('Auto-saving shipping address...');
                saveNewAddress();
                // Hide the form after auto-save
                const formContainer = document.getElementById('new-address-form-container');
                if (formContainer) {
                    formContainer.classList.add('hidden');
                }
            }
        }

        function autoSaveBillingAddress() {
            const form = document.getElementById('new-billing-address-form');
            if (!form) return;

            const requiredFields = ['new-billing-address-line1', 'new-billing-city', 'new-billing-state', 'new-billing-zip-code'];
            const allFilled = requiredFields.every(fieldId => {
                const field = document.getElementById(fieldId);
                return field && field.value.trim() !== '';
            });

            console.log('Auto-save billing check:', { allFilled, formValid: validateNewBillingAddressForm() });

            if (allFilled && validateNewBillingAddressForm()) {
                console.log('Auto-saving billing address...');
                saveNewBillingAddress();
                // Hide the form after auto-save
                const formContainer = document.getElementById('new-billing-address-form-container');
                if (formContainer) {
                    formContainer.classList.add('hidden');
                }
            }
        }

        function autoSavePickupAddress() {
            const form = document.getElementById('new-pickup-address-form');
            if (!form) return;

            const requiredFields = ['new-pickup-address-line1', 'new-pickup-city', 'new-pickup-state', 'new-pickup-zip-code'];
            const allFilled = requiredFields.every(fieldId => {
                const field = document.getElementById(fieldId);
                return field && field.value.trim() !== '';
            });

            console.log('Auto-save pickup check:', { allFilled, formValid: validateNewPickupAddressForm() });

            if (allFilled && validateNewPickupAddressForm()) {
                console.log('Auto-saving pickup address...');
                saveNewPickupAddress();
                // Hide the form after auto-save
                const formContainer = document.getElementById('new-pickup-address-form-container');
                if (formContainer) {
                    formContainer.classList.add('hidden');
                }
            }
        }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log('DOM loaded, initializing address management...');
            setupAddressManagement();
        });

        function setupAddressManagement() {
            const addAddressBtn = document.getElementById('add-address-btn');
            const addressFormContainer = document.getElementById('new-address-form-container');
            const saveAddressBtn = document.getElementById('save-address-btn');
            const cancelAddressBtn = document.getElementById('cancel-address-btn');

            console.log('Elements found:', {
                addAddressBtn: !!addAddressBtn,
                addressFormContainer: !!addressFormContainer,
                saveAddressBtn: !!saveAddressBtn,
                cancelAddressBtn: !!cancelAddressBtn
            });

            // Show address form
            if (addAddressBtn) {
                addAddressBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Add address button clicked');
                    if (addressFormContainer) {
                        addressFormContainer.classList.remove('hidden');
                        addressFormContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            }

            // Save address
            if (saveAddressBtn) {
                saveAddressBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Save address button clicked');
                    saveNewAddress();
                });
            }

            // Cancel address form
            if (cancelAddressBtn) {
                cancelAddressBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Cancel address button clicked');
                    hideAddressForm();
                });
            }

            // Address selection functionality
            setupAddressSelection();

            // Form validation
            setupFormValidation();
        }

        function setupAddressSelection() {
            // Handle address option clicks
            document.addEventListener('click', function (e) {
                const addressOption = e.target.closest('.address-option');
                if (addressOption) {
                    // Remove active class from all address options
                    document.querySelectorAll('.address-option').forEach(option => {
                        option.classList.remove('active');
                    });

                    // Add active class to clicked option
                    addressOption.classList.add('active');

                    // Check the radio button
                    const radioInput = addressOption.querySelector('input[type="radio"]');
                    if (radioInput) {
                        radioInput.checked = true;
                    }
                }
            });
        }

        function setupFormValidation() {
            const requiredFields = ['new-address-line1', 'new-city', 'new-state', 'new-zip-code'];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.addEventListener('blur', function () {
                        validateField(this);
                    });

                    field.addEventListener('input', function () {
                        clearFieldError(this);
                    });
                }
            });
        }

        function validateField(field) {
            const value = field.value.trim();
            const fieldId = field.id;
            const errorElement = document.getElementById(fieldId + '-error');

            let isValid = true;
            let errorMessage = '';

            if (field.hasAttribute('required') && !value) {
                isValid = false;
                errorMessage = 'This field is required';
            }

            // ZIP code validation
            if (fieldId === 'new-zip-code' && value && !/^\d{5}(-\d{4})?$/.test(value)) {
                isValid = false;
                errorMessage = 'Please enter a valid ZIP code';
            }

            if (isValid) {
                field.classList.remove('form-error');
                if (errorElement) {
                    errorElement.classList.add('hidden');
                    errorElement.textContent = '';
                }
            } else {
                field.classList.add('form-error');
                if (errorElement) {
                    errorElement.classList.remove('hidden');
                    errorElement.textContent = errorMessage;
                }
            }

            return isValid;
        }

        function clearFieldError(field) {
            field.classList.remove('form-error');
            const errorElement = document.getElementById(field.id + '-error');
            if (errorElement) {
                errorElement.classList.add('hidden');
                errorElement.textContent = '';
            }
        }

        function saveNewAddress() {
            console.log('saveNewAddress called');

            // Get form data directly from elements
            const addressLine1 = document.getElementById('new-address-line1').value.trim();
            const addressLine2 = document.getElementById('new-address-line2').value.trim();
            const city = document.getElementById('new-city').value.trim();
            const state = document.getElementById('new-state').value;
            const zipCode = document.getElementById('new-zip-code').value.trim();

            console.log('Form data:', { addressLine1, addressLine2, city, state, zipCode });

            // Validate required fields
            const requiredFields = ['new-address-line1', 'new-city', 'new-state', 'new-zip-code'];
            let isValid = true;

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (!validateField(field)) {
                    isValid = false;
                }
            });

            if (!isValid) {
                console.log('Form validation failed');
                alert('Please fill in all required fields correctly');
                return;
            }

            // Create new address object
            const newAddress = {
                addressLine1: addressLine1,
                addressLine2: addressLine2,
                city: city,
                state: state,
                zipCode: zipCode
            };

            console.log('Creating new address:', newAddress);

            // Add address to the list
            addAddressToList(newAddress);

            // Reset and hide form
            resetForm();
            hideAddressForm();

            // Show success message
            showDeliveryMessage('Delivery address added successfully!', 'success');
        }

        function addAddressToList(address) {
            console.log('addAddressToList called with:', address);

            // Create unique ID for new address
            const addressId = 'address-' + Date.now();
            const radioId = 'radio-' + Date.now();

            // Create full address string
            const fullAddress = `${address.addressLine1}${address.addressLine2 ? ', ' + address.addressLine2 : ''}, ${address.city}, ${address.state} ${address.zipCode}`;

            // Create new address element
            const newAddressElement = document.createElement('div');
            newAddressElement.className = 'address-option flex items-center justify-between gap-2 border border-gray-300 rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-red-600 hover:shadow-md active';
            newAddressElement.setAttribute('data-address', 'new-address');

            newAddressElement.innerHTML = `
                    <label class="flex flex-col gap-2 cursor-pointer">
                        <p class="font-semibold text-base text-black">New Address</p>
                        <p class="text-base text-gray-500 font-normal">${fullAddress}</p>
                    </label>
                    <div class="flex items-center gap-2">
                        <input type="radio" name="deliveryAddress" value="new"
                            class="w-4 h-4 text-red-600 focus:ring-red-600 border-gray-300"
                            id="${radioId}" />
                    </div>
                `;

            // Find the container and add button
            const addButton = document.getElementById('add-address-btn');
            const container = addButton.parentNode;

            // Insert before the add button
            container.insertBefore(newAddressElement, addButton);

            // Remove active class from all existing options
            document.querySelectorAll('.address-option').forEach(option => {
                option.classList.remove('active');
            });

            // Set new address as active and checked
            newAddressElement.classList.add('active');
            const radioInput = newAddressElement.querySelector('input[type="radio"]');
            if (radioInput) {
                radioInput.checked = true;
            }

            console.log('Address added to list successfully');
        }

        function hideAddressForm() {
            const addressFormContainer = document.getElementById('new-address-form-container');
            if (addressFormContainer) {
                addressFormContainer.classList.add('hidden');
            }
            resetForm();
        }

        function resetForm() {
            // Reset all form fields
            const fields = ['new-address-line1', 'new-address-line2', 'new-city', 'new-state', 'new-zip-code'];
            fields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.value = '';
                    field.classList.remove('form-error');
                }
            });

            // Hide all error messages
            const errorElements = document.querySelectorAll('.error-message');
            errorElements.forEach(element => {
                element.classList.add('hidden');
                element.textContent = '';
            });
        }
    </script>
    <script>
        // Find the pickup container and add button
        const addPickupButton = document.getElementById('add-pickup-address-btn');
        const pickupContainer = addPickupButton.parentNode;

        // Insert before the add pickup button
        pickupContainer.insertBefore(newPickupAddressElement, addPickupButton);

        // Remove active class from all existing pickup options
        document.querySelectorAll('.pickup-address-option').forEach(option => {
            option.classList.remove('active');
        });

        // Set new pickup address as active and checked
        newPickupAddressElement.classList.add('active');
        const radioInput = newPickupAddressElement.querySelector('input[type="radio"]');
        if (radioInput) {
            radioInput.checked = true;
        }

        // Add click event listener for pickup address selection
        newPickupAddressElement.addEventListener('click', function () {
            document.querySelectorAll('.pickup-address-option').forEach(option => {
                option.classList.remove('active');
            });
            this.classList.add('active');
            const radio = this.querySelector('input[type="radio"]');
            if (radio) {
                radio.checked = true;
            }
        });

        console.log('Pickup address added to list successfully');


        function resetForm() {
            // Reset all delivery form fields
            const fields = ['new-address-line1', 'new-address-line2', 'new-city', 'new-state', 'new-zip-code'];
            fields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.value = '';
                    field.classList.remove('form-error');
                }
            });

            // Hide all error messages
            const errorElements = document.querySelectorAll('.error-message');
            errorElements.forEach(element => {
                element.classList.add('hidden');
                element.textContent = '';
            });
        }

        function resetPickupForm() {
            // Reset all pickup form fields
            const pickupFields = ['new-address-line1-pickup', 'new-address-line2-pickup', 'new-city-pickup', 'new-state-pickup', 'new-zip-code-pickup'];
            pickupFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.value = '';
                    field.classList.remove('form-error');
                }
            });

            // Hide all error messages
            const errorElements = document.querySelectorAll('.error-message');
            errorElements.forEach(element => {
                element.classList.add('hidden');
                element.textContent = '';
            });
        }
    </script>
    <script>
        console.log('Script starting...');

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function () {
            console.log('DOM loaded, initializing pickup address management...');
            setupPickupAddressManagement();
        });

        function setupPickupAddressManagement() {
            console.log('Setting up pickup address management...');

            // Get elements
            const addPickupBtn = document.getElementById('add-pickup-address-btn');
            const formContainer = document.getElementById('new-pickup-address-form-container');
            const saveBtn = document.getElementById('save-pickup-address-btn');
            const cancelBtn = document.getElementById('cancel-pickup-address-btn');
            const form = document.getElementById('new-pickup-address-form');

            console.log('Elements found:', {
                addPickupBtn: !!addPickupBtn,
                formContainer: !!formContainer,
                saveBtn: !!saveBtn,
                cancelBtn: !!cancelBtn,
                form: !!form
            });

            // Show form when add button is clicked
            if (addPickupBtn) {
                addPickupBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Add pickup address button clicked');
                    showPickupAddressForm();
                });
            }

            // Save address when save button is clicked
            if (saveBtn) {
                saveBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Save pickup address button clicked');
                    savePickupAddress();
                });
            }

            // Cancel and hide form
            if (cancelBtn) {
                cancelBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Cancel pickup address button clicked');
                    hidePickupAddressForm();
                });
            }

            // Setup form validation
            if (form) {
                setupPickupFormValidation();
            }

            // Setup address selection
            setupPickupAddressSelection();
        }

        function showPickupAddressForm() {
            console.log('Showing pickup address form...');
            const formContainer = document.getElementById('new-pickup-address-form-container');
            if (formContainer) {
                formContainer.classList.remove('hidden');
                formContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                console.log('Form shown');
            } else {
                console.error('Form container not found');
            }
        }

        function hidePickupAddressForm() {
            console.log('Hiding pickup address form...');
            const formContainer = document.getElementById('new-pickup-address-form-container');
            if (formContainer) {
                formContainer.classList.add('hidden');
                resetPickupForm();
                console.log('Form hidden');
            }
        }

        function setupPickupFormValidation() {
            console.log('Setting up form validation...');
            const requiredFields = [
                'new-pickup-address-line1',
                'new-pickup-city',
                'new-pickup-state',
                'new-pickup-zip-code'
            ];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.addEventListener('blur', function () {
                        validatePickupField(this);
                    });

                    field.addEventListener('input', function () {
                        clearPickupFieldError(this);
                    });
                } else {
                    console.warn(`Field ${fieldId} not found`);
                }
            });
        }

        function validatePickupField(field) {
            const value = field.value.trim();
            const fieldId = field.id;
            const errorElement = document.getElementById(fieldId + '-error');

            console.log(`Validating field ${fieldId} with value: "${value}"`);

            let isValid = true;
            let errorMessage = '';

            // Required field validation
            if (field.hasAttribute('required') && !value) {
                isValid = false;
                errorMessage = 'This field is required';
            }

            // ZIP code validation
            if (fieldId === 'new-pickup-zip-code' && value && !/^\d{5}(-\d{4})?$/.test(value)) {
                isValid = false;
                errorMessage = 'Please enter a valid ZIP code';
            }

            // Update UI
            if (isValid) {
                field.classList.remove('form-error');
                if (errorElement) {
                    errorElement.classList.add('hidden');
                    errorElement.textContent = '';
                }
            } else {
                field.classList.add('form-error');
                if (errorElement) {
                    errorElement.classList.remove('hidden');
                    errorElement.textContent = errorMessage;
                }
            }

            return isValid;
        }

        function clearPickupFieldError(field) {
            field.classList.remove('form-error');
            const errorElement = document.getElementById(field.id + '-error');
            if (errorElement) {
                errorElement.classList.add('hidden');
                errorElement.textContent = '';
            }
        }

        function validatePickupForm() {
            console.log('Validating entire pickup form...');
            const requiredFields = [
                'new-pickup-address-line1',
                'new-pickup-city',
                'new-pickup-state',
                'new-pickup-zip-code'
            ];

            let isFormValid = true;

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field && !validatePickupField(field)) {
                    isFormValid = false;
                }
            });

            console.log('Form validation result:', isFormValid);
            return isFormValid;
        }

        function savePickupAddress() {
            console.log('savePickupAddress called');

            // Validate form first
            if (!validatePickupForm()) {
                console.log('Form validation failed');
                showMessage('Please fill in all required fields correctly', 'error');
                return;
            }

            // Get form data
            const addressLine1 = document.getElementById('new-pickup-address-line1').value.trim();
            const addressLine2 = document.getElementById('new-pickup-address-line2').value.trim();
            const city = document.getElementById('new-pickup-city').value.trim();
            const state = document.getElementById('new-pickup-state').value;
            const zipCode = document.getElementById('new-pickup-zip-code').value.trim();

            console.log('Form data:', { addressLine1, addressLine2, city, state, zipCode });

            // Create address object
            const newAddress = {
                addressLine1: addressLine1,
                addressLine2: addressLine2,
                city: city,
                state: state,
                zipCode: zipCode
            };

            // Add to pickup address list
            addPickupAddressToList(newAddress);

            // Reset and hide form
            resetPickupForm();
            hidePickupAddressForm();

            // Show success message
            showMessage('Pickup address added successfully!', 'success');
        }

        function addPickupAddressToList(address) {
            console.log('Adding pickup address to list:', address);

            // Count existing pickup addresses to create unique name
            const existingAddresses = document.querySelectorAll('.pickup-address-option[data-address^="pickup-"]');
            const addressNumber = existingAddresses.length + 1;
            const addressName = `New Address`;

            // Create unique IDs
            const addressId = 'pickup-' + Date.now();
            const radioId = 'radio-pickup-' + Date.now();

            // Create full address string
            const fullAddress = `${address.addressLine1}${address.addressLine2 ? ', ' + address.addressLine2 : ''}, ${address.city}, ${address.state} ${address.zipCode}`;

            // Create new pickup address element
            const newAddressElement = document.createElement('div');
            newAddressElement.className = 'pickup-address-option flex items-center justify-between gap-2 border border-gray-300 rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-red-600 hover:shadow-md active';
            newAddressElement.setAttribute('data-address', addressId);

            newAddressElement.innerHTML = `
                    <label class="flex flex-col gap-2 cursor-pointer">
                        <p class="font-semibold text-base text-black">${addressName}</p>
                        <p class="text-base text-gray-500 font-normal">${fullAddress}</p>
                    </label>
                    <div class="flex items-center gap-2">
                        <input type="radio" name="pickupAddress" value="${addressId}"
                            class="w-4 h-4 text-red-600 focus:ring-red-600 border-gray-300"
                            id="${radioId}" />
                    </div>
                `;

            // Add click event listener
            newAddressElement.addEventListener('click', function (e) {
                // Don't trigger if clicking on the radio button directly
                if (e.target.type === 'radio') return;

                selectPickupAddress(this);
            });

            // Find container and add button
            const addButton = document.getElementById('add-pickup-address-btn');
            const container = addButton.parentNode;

            // Insert new address before the add button
            container.insertBefore(newAddressElement, addButton);

            // Select the new address automatically
            selectPickupAddress(newAddressElement);

            console.log('Pickup address added to list successfully');
        }

        function setupPickupAddressSelection() {
            console.log('Setting up pickup address selection...');

            // Add click listeners to existing pickup address options
            document.addEventListener('click', function (e) {
                const pickupOption = e.target.closest('.pickup-address-option');
                if (pickupOption) {
                    // Don't trigger if clicking on the radio button directly
                    if (e.target.type === 'radio') return;

                    selectPickupAddress(pickupOption);
                }
            });

            // Handle radio button changes
            document.addEventListener('change', function (e) {
                if (e.target.name === 'pickupAddress') {
                    const option = e.target.closest('.pickup-address-option');
                    if (option) {
                        selectPickupAddress(option);
                    }
                }
            });
        }

        function selectPickupAddress(selectedOption) {
            console.log('Selecting pickup address...');

            // Remove active class from all pickup options
            document.querySelectorAll('.pickup-address-option').forEach(option => {
                option.classList.remove('active');
            });

            // Add active class to selected option
            selectedOption.classList.add('active');

            // Check the radio button
            const radioInput = selectedOption.querySelector('input[type="radio"]');
            if (radioInput) {
                radioInput.checked = true;
                console.log('Radio button checked:', radioInput.value);
            }
        }

        function resetPickupForm() {
            console.log('Resetting pickup form...');
            const form = document.getElementById('new-pickup-address-form');
            if (form) {
                form.reset();

                // Clear error states
                const errorElements = form.querySelectorAll('.error-message');
                errorElements.forEach(element => {
                    element.classList.add('hidden');
                    element.textContent = '';
                });

                const formFields = form.querySelectorAll('input, select');
                formFields.forEach(field => {
                    field.classList.remove('form-error');
                });
            }
        }

        function showMessage(message, type) {
            console.log(`Showing ${type} message:`, message);

            // Create or update success message
            let messageEl = document.getElementById('success-message');
            if (messageEl) {
                messageEl.textContent = message;
                messageEl.className = type === 'success'
                    ? 'mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md'
                    : 'mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md';
                messageEl.classList.remove('hidden');

                // Hide after 3 seconds
                setTimeout(() => {
                    messageEl.classList.add('hidden');
                }, 3000);
            }
        }
    </script>
    <script>
        // Billing Address Section JavaScript Fix

        document.addEventListener('DOMContentLoaded', function () {
            setupBillingAddressSection();
        });

        function setupBillingAddressSection() {
            console.log('Setting up billing address section...');

            // Get the checkbox and billing form elements
            const differentAddressCheckbox = document.getElementById('differentAddress');
            const billingForm = document.getElementById('billing-form');
            const addBillingAddressBtn = document.getElementById('add-billing-address-btn');
            const billingFormContainer = document.getElementById('new-billing-address-form-container');
            const saveBillingBtn = document.getElementById('save-billing-address-btn');
            const cancelBillingBtn = document.getElementById('cancel-billing-address-btn');

            console.log('Billing elements found:', {
                differentAddressCheckbox: !!differentAddressCheckbox,
                billingForm: !!billingForm,
                addBillingAddressBtn: !!addBillingAddressBtn,
                billingFormContainer: !!billingFormContainer,
                saveBillingBtn: !!saveBillingBtn,
                cancelBillingBtn: !!cancelBillingBtn
            });

            // Handle checkbox toggle for showing/hiding billing form
            if (differentAddressCheckbox && billingForm) {
                differentAddressCheckbox.addEventListener('change', function (e) {
                    console.log('Billing checkbox changed:', e.target.checked);

                    if (e.target.checked) {
                        billingForm.classList.remove('hidden');
                        console.log('Billing form shown');
                    } else {
                        billingForm.classList.add('hidden');
                        // Also hide the new address form if it's open
                        if (billingFormContainer) {
                            billingFormContainer.classList.add('hidden');
                        }
                        console.log('Billing form hidden');
                    }
                });
            }

            // Handle "Add new billing address" button
            if (addBillingAddressBtn && billingFormContainer) {
                addBillingAddressBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Add billing address button clicked');

                    billingFormContainer.classList.remove('hidden');
                    billingFormContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            }

            // Handle save billing address button
            if (saveBillingBtn) {
                saveBillingBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Save billing address button clicked');
                    saveBillingAddress();
                });
            }

            // Handle cancel billing address button
            if (cancelBillingBtn) {
                cancelBillingBtn.addEventListener('click', function (e) {
                    e.preventDefault();
                    console.log('Cancel billing address button clicked');
                    hideBillingAddressForm();
                });
            }

            // Setup billing address selection
            setupBillingAddressSelection();

            // Setup billing form validation
            setupBillingFormValidation();
        }

        function setupBillingAddressSelection() {
            console.log('Setting up billing address selection...');

            // Handle billing address option clicks
            document.addEventListener('click', function (e) {
                const billingOption = e.target.closest('.billing-address-option');
                if (billingOption) {
                    // Don't trigger if clicking on the radio button directly
                    if (e.target.type === 'radio') return;

                    selectBillingAddress(billingOption);
                }
            });

            // Handle radio button changes for billing addresses
            document.addEventListener('change', function (e) {
                if (e.target.name === 'billingAddress') {
                    const option = e.target.closest('.billing-address-option');
                    if (option) {
                        selectBillingAddress(option);
                    }
                }
            });
        }

        function selectBillingAddress(selectedOption) {
            console.log('Selecting billing address...');

            // Remove active class from all billing options
            document.querySelectorAll('.billing-address-option').forEach(option => {
                option.classList.remove('active');
            });

            // Add active class to selected option
            selectedOption.classList.add('active');

            // Check the radio button
            const radioInput = selectedOption.querySelector('input[type="radio"]');
            if (radioInput) {
                radioInput.checked = true;
                console.log('Billing radio button checked:', radioInput.value);
            }
        }

        function setupBillingFormValidation() {
            console.log('Setting up billing form validation...');

            const requiredFields = [
                'new-billing-address-line1',
                'new-billing-city',
                'new-billing-state',
                'new-billing-zip-code'
            ];

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.addEventListener('blur', function () {
                        validateBillingField(this);
                    });

                    field.addEventListener('input', function () {
                        clearBillingFieldError(this);
                    });
                }
            });
        }

        function validateBillingField(field) {
            const value = field.value.trim();
            const fieldId = field.id;
            const errorElement = document.getElementById(fieldId + '-error');

            console.log(`Validating billing field ${fieldId} with value: "${value}"`);

            let isValid = true;
            let errorMessage = '';

            // Required field validation
            if (field.hasAttribute('required') && !value) {
                isValid = false;
                errorMessage = 'This field is required';
            }

            // ZIP code validation
            if (fieldId === 'new-billing-zip-code' && value && !/^\d{5}(-\d{4})?$/.test(value)) {
                isValid = false;
                errorMessage = 'Please enter a valid ZIP code';
            }

            // Update UI
            if (isValid) {
                field.classList.remove('form-error');
                if (errorElement) {
                    errorElement.classList.add('hidden');
                    errorElement.textContent = '';
                }
            } else {
                field.classList.add('form-error');
                if (errorElement) {
                    errorElement.classList.remove('hidden');
                    errorElement.textContent = errorMessage;
                }
            }

            return isValid;
        }

        function clearBillingFieldError(field) {
            field.classList.remove('form-error');
            const errorElement = document.getElementById(field.id + '-error');
            if (errorElement) {
                errorElement.classList.add('hidden');
                errorElement.textContent = '';
            }
        }

        function validateBillingForm() {
            console.log('Validating entire billing form...');

            const requiredFields = [
                'new-billing-address-line1',
                'new-billing-address-line2',
                'new-billing-city',
                'new-billing-state',
                'new-billing-zip-code'
            ];

            let isFormValid = true;

            requiredFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field && !validateBillingField(field)) {
                    isFormValid = false;
                }
            });

            console.log('Billing form validation result:', isFormValid);
            return isFormValid;
        }

        function saveBillingAddress() {
            console.log('saveBillingAddress called');

            // Validate form first
            if (!validateBillingForm()) {
                console.log('Billing form validation failed');
                showBillingMessage('Please fill in all required fields correctly', 'error');
                return;
            }

            // Get form data
            const addressLine1 = document.getElementById('new-billing-address-line1').value.trim();
            const city = document.getElementById('new-billing-city').value.trim();
            const state = document.getElementById('new-billing-state').value;
            const zipCode = document.getElementById('new-billing-zip-code').value.trim();

            console.log('Billing form data:', { addressLine1, city, state, zipCode });

            // Create address object
            const newBillingAddress = {
                addressLine1: addressLine1,
                city: city,
                state: state,
                zipCode: zipCode
            };

            // Add to billing address list
            addBillingAddressToList(newBillingAddress);

            // Reset and hide form
            resetBillingForm();
            hideBillingAddressForm();

            // Show success message
            showBillingMessage('Billing address added successfully!', 'success');
        }

        function addBillingAddressToList(address) {
            console.log('Adding billing address to list:', address);

            // Count existing billing addresses to create unique name
            const existingAddresses = document.querySelectorAll('.billing-address-option[data-address^="billing-"]');
            const addressNumber = existingAddresses.length + 1;
            const addressName = `New Billing Address`;

            // Create unique IDs
            const addressId = 'billing-' + Date.now();
            const radioId = 'radio-billing-' + Date.now();

            // Create full address string
            const fullAddress = `${address.addressLine1}, ${address.city}, ${address.state} ${address.zipCode}`;

            // Create new billing address element
            const newAddressElement = document.createElement('div');
            newAddressElement.className = 'billing-address-option flex items-center justify-between gap-2 border border-[#C8C8C8] rounded-lg p-4 cursor-pointer transition-all duration-200 hover:border-[#D72638] hover:shadow-md active';
            newAddressElement.setAttribute('data-address', addressId);

            newAddressElement.innerHTML = `
        <label class="flex flex-col gap-2 cursor-pointer">
            <p class="font-semibold text-base text-black">${addressName}</p>
            <p class="text-base text-[#9E9494] font-normal">${fullAddress}</p>
        </label>
        <div class="flex items-center gap-2">
            <input type="radio" name="billingAddress" value="${addressId}"
                class="w-4 h-4 text-[#D72638] focus:ring-[#D72638] border-gray-300"
                id="${radioId}" />
        </div>
    `;

            // Add click event listener
            newAddressElement.addEventListener('click', function (e) {
                // Don't trigger if clicking on the radio button directly
                if (e.target.type === 'radio') return;

                selectBillingAddress(this);
            });

            // Find container and add button
            const addButton = document.getElementById('add-billing-address-btn');
            const container = addButton.parentNode;

            // Insert new address before the add button
            container.insertBefore(newAddressElement, addButton);

            // Select the new address automatically
            selectBillingAddress(newAddressElement);

            console.log('Billing address added to list successfully');
        }

        function hideBillingAddressForm() {
            console.log('Hiding billing address form...');
            const billingFormContainer = document.getElementById('new-billing-address-form-container');
            if (billingFormContainer) {
                billingFormContainer.classList.add('hidden');
                resetBillingForm();
                console.log('Billing form hidden');
            }
        }

        function resetBillingForm() {
            console.log('Resetting billing form...');
            const formFields = [
                'new-billing-address-line1',
                'new-billing-city',
                'new-billing-state',
                'new-billing-zip-code'
            ];

            // Reset field values and remove error states
            formFields.forEach(fieldId => {
                const field = document.getElementById(fieldId);
                if (field) {
                    field.value = '';
                    field.classList.remove('form-error');
                }
            });

            // Hide all error messages
            const errorElements = document.querySelectorAll('.error-message');
            errorElements.forEach(element => {
                element.classList.add('hidden');
                element.textContent = '';
            });
        }

        function showBillingMessage(message, type) {
            console.log(`Showing billing ${type} message:`, message);

            // Create or update message element
            let messageEl = document.getElementById('billing-success-message');
            if (!messageEl) {
                messageEl = document.createElement('div');
                messageEl.id = 'billing-success-message';

                // Insert after billing form container
                const billingFormContainer = document.getElementById('new-billing-address-form-container');
                if (billingFormContainer && billingFormContainer.parentNode) {
                    billingFormContainer.parentNode.insertBefore(messageEl, billingFormContainer.nextSibling);
                }
            }

            if (messageEl) {
                messageEl.textContent = message;
                messageEl.className = type === 'success'
                    ? 'mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md'
                    : 'mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md';
                messageEl.classList.remove('hidden');

                // Hide after 3 seconds
                setTimeout(() => {
                    messageEl.classList.add('hidden');
                }, 3000);
            }
        }

        function showDeliveryMessage(message, type) {

            // Create or update message element
            let messageEl = document.getElementById('delivery-success-message');
            if (!messageEl) {
                messageEl = document.createElement('div');
                messageEl.id = 'delivery-success-message';

                // Insert after delivery form container
                const deliveryFormContainer = document.getElementById('new-address-form-container');
                if (deliveryFormContainer && deliveryFormContainer.parentNode) {
                    deliveryFormContainer.parentNode.insertBefore(messageEl, deliveryFormContainer.nextSibling);
                }
            }

            if (messageEl) {
                messageEl.textContent = message;
                messageEl.className = type === 'success'
                    ? 'mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-md'
                    : 'mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-md';
                messageEl.classList.remove('hidden');

                // Hide after 3 seconds
                setTimeout(() => {
                    messageEl.classList.add('hidden');
                }, 3000);
            }
        }
    </script>
</body>

</html>